var U1A1,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U1A1=function(a){function b(){this.nextEvaluation=__bind(this.nextEvaluation,this),this.clearEvaluation=__bind(this.clearEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer3=__bind(this.evaluateAnswer3,this),this.evaluateAnswer2=__bind(this.evaluateAnswer2,this),this.evaluateAnswer1=__bind(this.evaluateAnswer1,this),this.initEvaluation=__bind(this.initEvaluation,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"n1",src:"nube1.png"},{id:"n2",src:"nube2.png"},{id:"n3",src:"nube3.png"},{id:"gg",src:"cuadro_naranja.png"},{id:"p1",src:"ninos_cantando.png"},{id:"p2",src:"ninos_jugando.png"},{id:"p3",src:"nina_jugando.png"},{id:"p4",src:"ninos_leyendo.png"},{id:"p5",src:"nino_flauta.png"}],c=[{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/TU2_U1_A1_Instructions.mp3",id:"instructions"},{src:"sounds/TU2_U1_A1_Im_painting_picture.mp3",id:"picture"},{src:"sounds/TU2_U1_A1_Im_playing_flute.mp3",id:"flute"},{src:"sounds/TU2_U1_A1_Were_playing_outside.mp3",id:"outside"},{src:"sounds/TU2_U1_A1_Were_singing_song.mp3",id:"song"},{src:"sounds/TU2_U1_A1_Were_studying_english.mp3",id:"english"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/good.mp3",id:"good"}],this.answers=[{w1:1,w2:2,w3:2,sound:"song"},{w1:1,w2:1,w3:4,sound:"outside"},{w1:0,w2:0,w3:0,sound:"picture"},{w1:1,w2:3,w3:1,sound:"english"},{w1:0,w2:1,w3:3,sound:"flute"}],b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){return b.__super__.setStage.apply(this,arguments),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions",["Look and drag the parts of the sentences to the speech bubbles."],80,200),this.insertSprite("characters",["p1","p2","p3","p4","p5"],null,stageSize.w/2,470,"mc"),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,5,0)),this.intento=0,this.setDropper().setNube1().setNube2().setNube3().introEvaluation()},b.prototype.setDropper=function(){var a,b,c,d,e;return b=new createjs.Container,b.x=stageSize.w/2-410,b.y=this.library.characters.y+120,b.name="dropper",a=this.createBitmap("backDropper","gg",0,0),c=new WordContainer("h1","","#fef2e7","#f39234",28,124,180,44),d=new WordContainer("h2","","#fef2e7","#f39234",237,124,244,44),e=new WordContainer("h3","","#fef2e7","#f39234",508,124,274,44),b.addChild(a,c,d,e),this.addToLibrary(c,d,e),this.addToMain(b),this},b.prototype.setNube1=function(){var a,b,c,d;return b=new createjs.Container,b.x=200,b.y=this.library.dropper.y+240,b.name="nube1",a=this.createBitmap("backNube1","n1",0,0),c=new DraggableText("p1n1","I'm",0,80,20),d=new DraggableText("p2n1","We're",1,60,80),b.addChild(a,c,d),this.addToLibrary(a,c,d),this.addToMain(b),this},b.prototype.setNube2=function(){var a,b,c,d,e,f;return b=new createjs.Container,b.x=500,b.y=this.library.dropper.y+240,b.name="nube2",a=this.createBitmap("backNube2","n2",0,0),c=new DraggableText("p1n2","painting",0,80,60),d=new DraggableText("p2n2","playing",1,280,120),e=new DraggableText("p3n2","singing",2,80,160),f=new DraggableText("p4n2","studying",3,240,240),b.addChild(a,c,d,e,f),this.addToLibrary(a,c,d,e,f),this.addToMain(b),this},b.prototype.setNube3=function(){var a,b,c,d,e,f,g;return b=new createjs.Container,b.x=1080,b.y=this.library.dropper.y+240,b.name="nube3",a=this.createBitmap("backNube3","n3",0,0),c=new DraggableText("p1n3","a picture.",0,220,80),d=new DraggableText("p2n3","English.",1,40,100),e=new DraggableText("p3n3","a song.",2,280,160),f=new DraggableText("p4n3","the flute.",3,60,200),g=new DraggableText("p5n3","outside.",4,200,280),b.addChild(a,c,d,e,f,g),this.addToLibrary(a,c,d,e,f,g),this.addToMain(b),this},b.prototype.introEvaluation=function(){var a,c;for(b.__super__.introEvaluation.apply(this,arguments),a=c=1;2>=c;a=c+=1)this.library["p"+a+"n1"].initDragListener();return this.library.characters.currentFrame=this.index,this.library.characters.scaleX=1,this.library.characters.scaleY=1,this.library.characters.alpha=1,TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0}),TweenLite.from(this.library.characters,1,{alpha:0,y:this.library.characters.y+50,delay:1}),TweenLite.from(this.library.dropper,1,{alpha:0,y:this.library.dropper.y+20,delay:1}),TweenLite.from(this.library.nube1,1,{alpha:0,y:this.library.nube1.y+20,delay:2}),TweenLite.from(this.library.nube2,1,{alpha:0,y:this.library.nube2.y+20,delay:2}),TweenLite.from(this.library.nube3,1,{alpha:0,y:this.library.nube3.y+20,delay:2,onComplete:this.playInstructions,onCompleteParams:[this]})},b.prototype.initEvaluation=function(){var a,c;for(b.__super__.initEvaluation.apply(this,arguments),this.library.h1.blink(),this.blink(this.library.backNube1),a=c=1;2>=c;a=c+=1)this.library["p"+a+"n1"].addEventListener("drop",this.evaluateAnswer1);return!1},b.prototype.evaluateAnswer1=function(a){var b,c,d;if(this.answer=a.target,c=this.library.h1.globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library.h1.hitTest(c.x,c.y)){if(this.answer.index===this.answers[this.index].w1){for(createjs.Sound.stop(),createjs.Sound.play("good"),this.answer.visible=!1,this.library.h1.changeText(this.answer.text.text),this.library.h1.blink(!1),this.blink(this.library.backNube1,!1),this.library.h2.blink(),this.blink(this.library.backNube2),b=d=1;4>=d;b=d+=1)this.library["p"+b+"n2"].initDragListener(),this.library["p"+b+"n2"].addEventListener("drop",this.evaluateAnswer2);return!1}return this.warning(),this.intento=1,this.answer.returnToPlace()}return this.answer.returnToPlace()},b.prototype.evaluateAnswer2=function(a){var b,c,d;if(this.answer=a.target,c=this.library.h2.globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library.h2.hitTest(c.x,c.y)){if(this.answer.index===this.answers[this.index].w2){for(createjs.Sound.stop(),createjs.Sound.play("good"),this.answer.visible=!1,this.library.h2.changeText(this.answer.text.text),this.library.h2.blink(!1),this.blink(this.library.backNube2,!1),this.library.h3.blink(),this.blink(this.library.backNube3),b=d=1;5>=d;b=d+=1)this.library["p"+b+"n3"].initDragListener(),this.library["p"+b+"n3"].addEventListener("drop",this.evaluateAnswer3);return!1}return this.warning(),this.intento=1,this.answer.returnToPlace()}return this.answer.returnToPlace()},b.prototype.evaluateAnswer3=function(a){var b,c,d,e;if(this.answer=a.target,c=this.library.h3.globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library.h3.hitTest(c.x,c.y)){if(this.answer.index===this.answers[this.index].w3){for(createjs.Sound.stop(),createjs.Sound.play("good"),this.answer.visible=!1,this.library.h3.changeText(this.answer.text.text),this.library.h3.blink(!1),this.blink(this.library.backNube3,!1),setTimeout(this.finishEvaluation,1e3),b=d=1;4>=d;b=d+=1)this.library["p"+b+"n2"].removeEventListener("drop",this.evaluateAnswer2),this.library["p"+b+"n2"].endDragListener();for(b=e=1;5>=e;b=e+=1)this.library["p"+b+"n3"].removeEventListener("drop",this.evaluateAnswer3),this.library["p"+b+"n3"].endDragListener();return!1}return this.warning(),this.intento=1,this.answer.returnToPlace()}return this.answer.returnToPlace()},b.prototype.finishEvaluation=function(){var a;return 0===this.intento&&this.library.score.plusOne(),createjs.Sound.stop(),a=createjs.Sound.play(this.answers[this.index].sound),a.addEventListener("complete",this.clearEvaluation),this.intento=0},b.prototype.clearEvaluation=function(){var a,b,c,d,e;for(a=b=1;2>=b;a=b+=1)this.library["p"+a+"n1"].visible=!0,this.library["p"+a+"n1"].returnToPlace();for(a=c=1;4>=c;a=c+=1)this.library["p"+a+"n2"].visible=!0,this.library["p"+a+"n2"].returnToPlace();for(a=d=1;5>=d;a=d+=1)this.library["p"+a+"n3"].visible=!0,this.library["p"+a+"n3"].returnToPlace();for(a=e=1;3>=e;a=e+=1)this.library["h"+a].changeText("");return TweenLite.to(this.library.characters,.5,{scaleX:1.5,scaleY:1.5,alpha:0,ease:Back.easeOut,onComplete:this.nextEvaluation})},b.prototype.nextEvaluation=function(){var a,b,c;if(this.index++,this.index<this.answers.length){for(this.library.characters.gotoAndStop(this.index),this.library.h1.blink(),this.blink(this.library.backNube1),TweenLite.to(this.library.characters,.5,{scaleX:1,scaleY:1,alpha:1,ease:Back.easeOut}),c=[],a=b=1;2>=b;a=b+=1)c.push(this.library["p"+a+"n1"].addEventListener("drop",this.evaluateAnswer1));return c}return this.finish()},b.prototype.blink=function(a,b){return null==b&&(b=!0),TweenMax.killTweensOf(a),a.alpha=1,b?TweenMax.to(a,.5,{alpha:.5,repeat:-1,yoyo:!0}):void 0},b.prototype.finish=function(){return TweenLite.to(this.library.dropper,1,{alpha:0,y:this.library.dropper.y+20,delay:.2}),TweenLite.to(this.library.nube1,1,{alpha:0,y:this.library.nube1.y+20,delay:.1}),TweenLite.to(this.library.nube2,1,{alpha:0,y:this.library.nube2.y+20,delay:.1}),TweenLite.to(this.library.nube3,1,{alpha:0,y:this.library.nube3.y+20,delay:.1}),b.__super__.finish.apply(this,arguments)},window.U1A1=b,b}(Oda);