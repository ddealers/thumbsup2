(function(){var i,e=function(i,e){return function(){return i.apply(e,arguments)}},r={}.hasOwnProperty,t=function(i,e){function t(){this.constructor=i}for(var a in e)r.call(e,a)&&(i[a]=e[a]);return t.prototype=e.prototype,i.prototype=new t,i.__super__=e.prototype,i};i=function(i){function r(){this.repeatSound=e(this.repeatSound,this),this.nextEvaluation=e(this.nextEvaluation,this),this.finishEvaluation=e(this.finishEvaluation,this),this.evaluateAnswer=e(this.evaluateAnswer,this),this.evaluateDrop=e(this.evaluateDrop,this),this.initEvaluation=e(this.initEvaluation,this);var i,t;i=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"btnFinished",src:"btn_finished.png"},{id:"btnRepeat",src:"btn_repeat.png"},{id:"pizarra",src:"pizarra.png"},{id:"boydragblebiking",src:"boy/dragble_biking.png"},{id:"boydragblecanoeing",src:"boy/dragble_canoeing.png"},{id:"boydragbleclean",src:"boy/dragble_clean.png"},{id:"boydragblefishing",src:"boy/dragble_fishing.png"},{id:"boydragbleread",src:"boy/dragble_read.png"},{id:"boydragbleriding",src:"boy/dragble_riding.png"},{id:"boypropbaseball",src:"boy/prop_baseball.png"},{id:"boypropbasketball",src:"boy/prop_basketball.png"},{id:"boypropswimming",src:"boy/prop_swimming.png"},{id:"boyproptennis",src:"boy/prop_tennis.png"},{id:"boy",src:"boy/prop_boy.png"},{id:"girldragblecanoeing",src:"girl/dragble_canoeing.png"},{id:"girldragblefishing",src:"girl/dragble_fishing.png"},{id:"girldragblehiking",src:"girl/dragble_hiking.png"},{id:"girldragblesoccer",src:"girl/dragble_soccer.png"},{id:"girldragbleswimming",src:"girl/dragble_swimming.png"},{id:"girldragblevolleyball",src:"girl/dragble_volleyball.png"},{id:"girlpropclean",src:"girl/prop_clean.png"},{id:"girlproprest",src:"girl/prop_rest.png"},{id:"girlpropriding",src:"girl/prop_riding.png"},{id:"girlproptennis",src:"girl/prop_tennis.png"},{id:"girl",src:"girl/prop_girl.png"}],t=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU2_U7_A2_instructions.mp3",id:"instructions"},{src:"sounds/TU2_U7_A2_schedule1.mp3",id:"sche1"},{src:"sounds/TU2_U7_A2_schedule2.mp3",id:"sche2"}],this.game={actividades:{boy:["boypropbaseball","boydragbleclean","boydragbleread","boypropbasketball","boyproptennis","boydragblecanoeing","boypropswimming","boydragbleriding","boydragblebiking","boydragblefishing"],boydrags:["boydragbleclean","boydragbleread","boydragblecanoeing","boydragbleriding","boydragblebiking","boydragblefishing"],girl:["girldragbleswimming","girldragblehiking","girldragblesoccer","girlpropclean","girldragblecanoeing","girlpropriding","girlproprest","girldragblevolleyball","girldragblefishing","girlproptennis"],girldrags:["girldragbleswimming","girldragblehiking","girldragblesoccer","girldragblecanoeing","girldragblevolleyball","girldragblefishing"]}},r.__super__.constructor.call(this,null,i,t)}return t(r,i),r.prototype.setStage=function(){var i,e;return r.__super__.setStage.apply(this,arguments),this.actividades=this.game.actividades,this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions",["Listen and drag the icons to the correct place on the schedule."],80,200),e=new Button("btnRepeat",this.preload.getResult("btnRepeat"),0,1300,734),i=new Button("btnFinished",this.preload.getResult("btnFinished"),0,1300,828),this.addToMain(e,i),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,12,0)),this.setPizarra(1).introEvaluation()},r.prototype.setPizarra=function(i){var e,r,t,a,s,n,l,d,o,g,h,p,c,b;for(this.schedule=i,o=new createjs.Container,o.name="pizarra",o.x=122,o.y=206,d=this.createBitmap("piz","pizarra",334,62),o.addChild(d),1===i?(a=this.createBitmap("girl","girl",118,760,"bl"),s=this.actividades.girl,this.drags=this.actividades.girldrags):(a=this.createBitmap("boy","boy",118,760,"bl"),s=this.actividades.boy,this.drags=this.actividades.boydrags),r=new createjs.Container,r.set({name:"actividades",x:718,y:226}),g=new createjs.Shape,g.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(-r.x,-r.y,stageSize.w,stageSize.h),r.addChild(g),this.targets=new Array,l=h=0,c=s.length-1;c>=0?c>=h:h>=c;l=c>=0?++h:--h)t=new createjs.Container,t.name="cont"+l,5>l?t.y=98*l:(t.x=270,t.y=98*(l-5)),1===i?0===l||1===l||2===l||4===l||7===l||8===l?(n=new createjs.Shape,n.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(-50,-50,180,110),this.setReg(n,40,-40),t.addChild(n)):(e=this.createBitmap(s[l],s[l],t.x+o.x+600,t.y+o.y+30,"tc"),e.scaleX=e.scaleY=80/e.image.height,e.mouseEnabled=!1,o.addChild(e)):1===l||2===l||5===l||7===l||8===l||9===l?(n=new createjs.Shape,n.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(-50,-50,180,110),this.setReg(n,40,-40),t.addChild(n)):(e=this.createBitmap(s[l],s[l],t.x+o.x+600,t.y+o.y+30,"tc"),e.scaleX=e.scaleY=80/e.image.height,e.mouseEnabled=!1,o.addChild(e)),this.targets.push(t),this.addToLibrary(t),r.addChild(t);for(o.addChild(a,r),l=p=0,b=this.drags.length-1;b>=0?b>=p:p>=b;l=b>=0?++p:--p)t=l%2===0?new Droppable(""+this.drags[l],this.preload.getResult(this.drags[l]),l,200*l+100,880,this.stage,r.children):new Droppable(""+this.drags[l],this.preload.getResult(this.drags[l]),l,200*l+100,800,this.stage,r.children),t.scaleX=t.scaleY=.9,this.addToLibrary(t),o.addChild(t);return this.addToMain(o),this},r.prototype.introEvaluation=function(){return r.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5}),TweenLite.from(this.library.btnRepeat,1,{alpha:0,y:this.library.btnRepeat.y-5,delay:.5}),TweenLite.from(this.library.btnFinished,1,{alpha:0,y:this.library.btnFinished.y-5,delay:.5}),TweenLite.from(this.library.pizarra,1,{alpha:0,y:this.library.pizarra.y+40,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]})},r.prototype.initEvaluation=function(){var i,e,t;for(r.__super__.initEvaluation.apply(this,arguments),i=e=0,t=this.drags.length-1;t>=0?t>=e:e>=t;i=t>=0?++e:--e)this.library[""+this.drags[i]].initDragListener(),this.library[""+this.drags[i]].addEventListener("dropped",this.evaluateDrop);return this.library.btnRepeat.addEventListener("click",this.repeatSound),this.library.btnFinished.addEventListener("click",this.evaluateAnswer),createjs.Sound.play("sche"+this.schedule)},r.prototype.evaluateDrop=function(i){var e,r,t;return this.answer=i.target,this.drop=i.drop,console.log(this.drop),this.answer.visible=!1,t=new createjs.Container,t.x=0,t.y=40,t.name=this.answer.name,e=this.createBitmap("a",this.answer.name,0,0,"mc"),e.mouseEnabled=!1,r=new createjs.Shape,r.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(-e.getBounds().width/2,-e.getBounds().height/2,e.getBounds().width,e.getBounds().height),r.name="hit",t.addChild(e,r),t.hitter=this.answer,t.addEventListener("mousedown",function(i){var e;return e=i.currentTarget,e.addEventListener("pressmove",function(){var i;if(e.hitter){for(e.removeAllEventListeners(),i=e.parent;i.children.length>1;)i.removeChildAt(i.children.length-1);return e.hitter.visible=!0,e.hitter.returnToPlace()}})}),t.scaleX=t.scaleY=.6,this.setReg(t,t.width/2,t.height/2),this.drop.addChild(t)},r.prototype.evaluateAnswer=function(){var i,e,r,t;for(this.library.btnRepeat.removeEventListener("click",this.repeatSound),this.library.btnFinished.removeEventListener("click",this.evaluateAnswer),createjs.Sound.stop(),i=1===this.schedule?this.actividades.girl:this.actividades.boy,e=r=0,t=i.length-1;t>=r;e=r+=1)this.library["cont"+e].children.length>1&&this.library["cont"+e].children[1].name===i[e]&&(this.blink(this.library["cont"+e]),this.library.score.plusOne(),createjs.Sound.play("good"));return setTimeout(this.finishEvaluation,4e3)},r.prototype.finishEvaluation=function(){return TweenLite.to(this.library.pizarra,1,{alpha:0,y:this.library.pizarra.y+40,onComplete:this.nextEvaluation})},r.prototype.nextEvaluation=function(){var i,e,r;if(this.index++,this.index<2){for(this.setPizarra(this.index+1),i=e=0,r=this.drags.length-1;r>=0?r>=e:e>=r;i=r>=0?++e:--e)this.library[""+this.drags[i]].initDragListener(),this.library[""+this.drags[i]].addEventListener("dropped",this.evaluateDrop);return this.library.btnRepeat.addEventListener("click",this.repeatSound),this.library.btnFinished.addEventListener("click",this.evaluateAnswer),createjs.Sound.stop(),createjs.Sound.play("sche"+this.schedule)}return this.finish()},r.prototype.repeatSound=function(){return createjs.Sound.stop(),createjs.Sound.play("sche"+this.schedule)},r.prototype.finish=function(){return TweenLite.to(this.library.btnRepeat,1,{alpha:0,y:this.library.btnRepeat.y-10}),TweenLite.to(this.library.btnFinished,1,{alpha:0,y:this.library.btnFinished.y-10}),r.__super__.finish.apply(this,arguments)},window.U7A2=r,r}(Oda)}).call(this);