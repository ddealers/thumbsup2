var U7A2,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U7A2=function(a){function b(){this.repeatSound=__bind(this.repeatSound,this),this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer=__bind(this.evaluateAnswer,this),this.evaluateDrop=__bind(this.evaluateDrop,this),this.initEvaluation=__bind(this.initEvaluation,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"btnFinished",src:"btn_finished.png"},{id:"btnRepeat",src:"btn_repeat.png"},{id:"pizarra",src:"pizarra.png"},{id:"boydragblebiking",src:"boy/dragble_biking.png"},{id:"boydragblecanoeing",src:"boy/dragble_canoeing.png"},{id:"boydragbleclean",src:"boy/dragble_clean.png"},{id:"boydragblefishing",src:"boy/dragble_fishing.png"},{id:"boydragbleread",src:"boy/dragble_read.png"},{id:"boydragbleriding",src:"boy/dragble_riding.png"},{id:"boypropbaseball",src:"boy/prop_baseball.png"},{id:"boypropbasketball",src:"boy/prop_basketball.png"},{id:"boypropswimming",src:"boy/prop_swimming.png"},{id:"boyproptennis",src:"boy/prop_tennis.png"},{id:"boy",src:"boy/prop_boy.png"},{id:"girldragblecanoeing",src:"girl/dragble_canoeing.png"},{id:"girldragblefishing",src:"girl/dragble_fishing.png"},{id:"girldragblehiking",src:"girl/dragble_hiking.png"},{id:"girldragblesoccer",src:"girl/dragble_soccer.png"},{id:"girldragbleswimming",src:"girl/dragble_swimming.png"},{id:"girldragblevolleyball",src:"girl/dragble_volleyball.png"},{id:"girlpropclean",src:"girl/prop_clean.png"},{id:"girlproprest",src:"girl/prop_rest.png"},{id:"girlpropriding",src:"girl/prop_riding.png"},{id:"girlproptennis",src:"girl/prop_tennis.png"},{id:"girl",src:"girl/prop_girl.png"}],c=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU2_U7_A2_instructions.mp3",id:"instructions"},{src:"sounds/TU2_U7_A2_schedule1.mp3",id:"sche1"},{src:"sounds/TU2_U7_A2_schedule2.mp3",id:"sche2"}],this.game={actividades:{boy:["boypropbaseball","boydragbleclean","boydragbleread","boypropbasketball","boyproptennis","boydragblecanoeing","boypropswimming","boydragbleriding","boydragblebiking","boydragblefishing"],boydrags:["boydragbleclean","boydragbleread","boydragblecanoeing","boydragbleriding","boydragblebiking","boydragblefishing"],girl:["girldragbleswimming","girldragblehiking","girldragblesoccer","girlpropclean","girldragblecanoeing","girlpropriding","girlproprest","girldragblevolleyball","girldragblefishing","girlproptennis"],girldrags:["girldragbleswimming","girldragblehiking","girldragblesoccer","girldragblecanoeing","girldragblevolleyball","girldragblefishing"]}},b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){var a,c;return b.__super__.setStage.apply(this,arguments),this.actividades=this.game.actividades,this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions",["Listen and drag the icons to the correct place on the schedule."],80,200),c=new Button("btnRepeat",this.preload.getResult("btnRepeat"),0,1300,734),a=new Button("btnFinished",this.preload.getResult("btnFinished"),0,1300,828),this.addToMain(c,a),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,12,0)),this.setPizarra(1).introEvaluation()},b.prototype.setPizarra=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(this.schedule=a,j=new createjs.Container,j.name="pizarra",j.x=122,j.y=206,i=this.createBitmap("piz","pizarra",334,62),j.addChild(i),1===a?(e=this.createBitmap("girl","girl",118,760,"bl"),f=this.actividades.girl,this.drags=this.actividades.girldrags):(e=this.createBitmap("boy","boy",118,760,"bl"),f=this.actividades.boy,this.drags=this.actividades.boydrags),c=new createjs.Container,c.set({name:"actividades",x:718,y:226}),k=new createjs.Shape,k.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(-c.x,-c.y,stageSize.w,stageSize.h),c.addChild(k),this.targets=new Array,h=l=0,n=f.length-1;n>=0?n>=l:l>=n;h=n>=0?++l:--l)d=new createjs.Container,d.name="cont"+h,5>h?d.y=98*h:(d.x=270,d.y=98*(h-5)),1===a?0===h||1===h||2===h||4===h||7===h||8===h?(g=new createjs.Shape,g.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(-50,-50,180,110),this.setReg(g,40,-40),d.addChild(g)):(b=this.createBitmap(f[h],f[h],d.x+j.x+600,d.y+j.y+30,"tc"),b.scaleX=b.scaleY=80/b.image.height,b.mouseEnabled=!1,j.addChild(b)):1===h||2===h||5===h||7===h||8===h||9===h?(g=new createjs.Shape,g.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(-50,-50,180,110),this.setReg(g,40,-40),d.addChild(g)):(b=this.createBitmap(f[h],f[h],d.x+j.x+600,d.y+j.y+30,"tc"),b.scaleX=b.scaleY=80/b.image.height,b.mouseEnabled=!1,j.addChild(b)),this.targets.push(d),this.addToLibrary(d),c.addChild(d);for(j.addChild(e,c),h=m=0,o=this.drags.length-1;o>=0?o>=m:m>=o;h=o>=0?++m:--m)d=h%2===0?new Droppable(""+this.drags[h],this.preload.getResult(this.drags[h]),h,200*h+100,880,this.stage,c.children):new Droppable(""+this.drags[h],this.preload.getResult(this.drags[h]),h,200*h+100,800,this.stage,c.children),d.scaleX=d.scaleY=.9,this.addToLibrary(d),j.addChild(d);return this.addToMain(j),this},b.prototype.introEvaluation=function(){return b.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:1}),TweenLite.from(this.library.btnRepeat,1,{alpha:0,y:this.library.btnRepeat.y-5,delay:2}),TweenLite.from(this.library.btnFinished,1,{alpha:0,y:this.library.btnFinished.y-5,delay:2}),TweenLite.from(this.library.pizarra,1,{alpha:0,y:this.library.pizarra.y+40,delay:3,onComplete:this.playInstructions,onCompleteParams:[this]})},b.prototype.initEvaluation=function(){var a,c,d;for(b.__super__.initEvaluation.apply(this,arguments),a=c=0,d=this.drags.length-1;d>=0?d>=c:c>=d;a=d>=0?++c:--c)this.library[""+this.drags[a]].initDragListener(),this.library[""+this.drags[a]].addEventListener("dropped",this.evaluateDrop);return this.library.btnRepeat.addEventListener("click",this.repeatSound),this.library.btnFinished.addEventListener("click",this.evaluateAnswer),createjs.Sound.play("sche"+this.schedule)},b.prototype.evaluateDrop=function(a){var b,c,d;return this.answer=a.target,this.drop=a.drop,console.log(this.drop),this.answer.visible=!1,d=new createjs.Container,d.x=0,d.y=40,d.name=this.answer.name,b=this.createBitmap("a",this.answer.name,0,0,"mc"),b.mouseEnabled=!1,c=new createjs.Shape,c.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(-b.getBounds().width/2,-b.getBounds().height/2,b.getBounds().width,b.getBounds().height),c.name="hit",d.addChild(b,c),d.hitter=this.answer,d.addEventListener("mousedown",function(a){var b;return b=a.currentTarget,b.addEventListener("pressmove",function(){var a;if(b.hitter){for(b.removeAllEventListeners(),a=b.parent;a.children.length>1;)a.removeChildAt(a.children.length-1);return b.hitter.visible=!0,b.hitter.returnToPlace()}})}),d.scaleX=d.scaleY=.6,this.setReg(d,d.width/2,d.height/2),this.drop.addChild(d)},b.prototype.evaluateAnswer=function(){var a,b,c,d;for(this.library.btnRepeat.removeEventListener("click",this.repeatSound),this.library.btnFinished.removeEventListener("click",this.evaluateAnswer),createjs.Sound.stop(),a=1===this.schedule?this.actividades.girl:this.actividades.boy,b=c=0,d=a.length-1;d>=c;b=c+=1)this.library["cont"+b].children.length>1&&(this.library["cont"+b].children[1].name===a[b]?(this.library.score.plusOne(),createjs.Sound.play("good")):dealersjs.mobile.isIOS()||dealersjs.mobile.isAndroid()?this.library["cont"+b].alpha=.4:this.blink(this.library["cont"+b]));return setTimeout(this.finishEvaluation,4e3)},b.prototype.finishEvaluation=function(){return TweenLite.to(this.library.pizarra,1,{alpha:0,y:this.library.pizarra.y+40,onComplete:this.nextEvaluation})},b.prototype.nextEvaluation=function(){var a,b,c;if(this.index++,this.index<2){for(this.setPizarra(this.index+1),a=b=0,c=this.drags.length-1;c>=0?c>=b:b>=c;a=c>=0?++b:--b)this.library[""+this.drags[a]].initDragListener(),this.library[""+this.drags[a]].addEventListener("dropped",this.evaluateDrop);return this.library.btnRepeat.addEventListener("click",this.repeatSound),this.library.btnFinished.addEventListener("click",this.evaluateAnswer),createjs.Sound.stop(),createjs.Sound.play("sche"+this.schedule)}return this.finish()},b.prototype.repeatSound=function(){return createjs.Sound.stop(),createjs.Sound.play("sche"+this.schedule)},b.prototype.finish=function(){return TweenLite.to(this.library.btnRepeat,1,{alpha:0,y:this.library.btnRepeat.y-10}),TweenLite.to(this.library.btnFinished,1,{alpha:0,y:this.library.btnFinished.y-10}),b.__super__.finish.apply(this,arguments)},window.U7A2=b,b}(Oda);