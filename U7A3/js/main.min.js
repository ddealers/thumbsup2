var U7A3,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U7A3=function(a){function b(){this.finish=__bind(this.finish,this),this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer=__bind(this.evaluateAnswer,this),this.initEvaluation=__bind(this.initEvaluation,this),this.finalAndThen=__bind(this.finalAndThen,this),this.setFinal=__bind(this.setFinal,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"greenbg",src:"green/propbg.png"},{id:"greenscreen",src:"green/screen_begreen.png"},{id:"dropAreagreenB",src:"green/dropArea_B.png"},{id:"dropAreagreenE",src:"green/dropArea_E.png"},{id:"dropAreagreenG",src:"green/dropArea_G.png"},{id:"dropAreagreenR",src:"green/dropArea_R.png"},{id:"dropAreagreenE2",src:"green/dropArea_E2.png"},{id:"dropAreagreenE3",src:"green/dropArea_E3.png"},{id:"dropAreagreenN",src:"green/dropArea_N.png"},{id:"greenB",src:"green/outsite_B.png"},{id:"greenE",src:"green/outside_E.png"},{id:"greenG",src:"green/outside_G.png"},{id:"greenR",src:"green/outside_R.png"},{id:"greenE2",src:"green/outside_E2.png"},{id:"greenE3",src:"green/outside_E3.png"},{id:"greenN",src:"green/outside_N.png"},{id:"summerscreen",src:"summer/screen_summer.png"},{id:"summerbg",src:"summer/prop_bg.png"},{id:"dropAreasummerS",src:"summer/dropArea_S.png"},{id:"dropAreasummerU",src:"summer/dropArea_U.png"},{id:"dropAreasummerM",src:"summer/dropArea_M.png"},{id:"dropAreasummerM2",src:"summer/dropArea_M2.png"},{id:"dropAreasummerE",src:"summer/dropArea_E.png"},{id:"dropAreasummerR",src:"summer/dropArea_R.png"},{id:"summerS",src:"summer/sLetra.png"},{id:"summerU",src:"summer/u.png"},{id:"summerM",src:"summer/m.png"},{id:"summerM2",src:"summer/m2.png"},{id:"summerE",src:"summer/e.png"},{id:"summerR",src:"summer/r.png"}],c=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU2_U7_A3_instructions.mp3",id:"instructions"}],this.positions={summertexts:[{t:"1. They are horse backriding.",l:"summerS"},{t:"2. She is fishing at the lake.",l:"summerU"},{t:"3. He is canoeing in the lake.",l:"summerM"},{t:"4. She is playing soccer.",l:"summerM2"},{t:"5. He is resting in the cabin.",l:"summerE"},{t:"6. They are hiking mountains.",l:"summerR"}],summerletras:[{letra:"summerS",x:732,y:370},{letra:"summerU",x:402,y:344},{letra:"summerM",x:160,y:350},{letra:"summerM2",x:846,y:562},{letra:"summerE",x:324,y:582},{letra:"summerR",x:422,y:196}],greentexts:[{t:"1. She is planting trees.",l:"greenB"},{t:"2. He is protecting endangered animals.",l:"greenE"},{t:"3. She is riding her bike.",l:"greenG"},{t:"4. He is conserving water.",l:"greenR"},{t:"5. She is picking up trash.",l:"greenE2"},{t:"6. She is turning off lights.",l:"greenE3"},{t:"7. He is recycling bottles and cans.",l:"greenN"}],greenletras:[{letra:"greenB",x:374,y:238},{letra:"greenE",x:98,y:528},{letra:"greenG",x:534,y:418},{letra:"greenR",x:856,y:356},{letra:"greenE2",x:628,y:440},{letra:"greenE3",x:940,y:238},{letra:"greenN",x:826,y:490}]},b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){return b.__super__.setStage.apply(this,arguments),this.intento=0,this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Read, drag the letters and complete the mystery word.",80,200),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,13,0)),this.setScene(1).introEvaluation()},b.prototype.setScene=function(a){var b,c,d,e,f,g,h,i,j,k,l;for(this.escena=new createjs.Container,this.escena.x=232,this.escena.y=320,this.escena.name="escena",1===a?(c="summer",this.esc=1):(c="green",this.esc=2),d=this.createBitmap(""+c+"bg",""+c+"bg",48,22),this.vuelta=0,this.texts=this.positions[""+c+"texts"],this.insertText("label",this.texts[this.index].t,"48px Quicksand","#333",stageSize.w/2,280,"center"),this.escena.addChild(d),this.letras=this.positions[""+c+"letras"],f=new Array,g=k=0,l=this.letras.length-1;l>=0?l>=k:k>=l;g=l>=0?++k:--k)j=this.letras[g],1===a&&(b=this.createBitmap("darea"+j.letra,"dropArea"+j.letra,150*g+170,860,"bc")),2===a&&(b=this.createBitmap("darea"+j.letra,"dropArea"+j.letra,150*g+110,860,"bc"),g>=2&&(b.x+=60),6===g&&(b.x+=30)),e=new createjs.Shape,e.graphics.beginFill("rgba(255,255,255,1)").drawRect(0,0,b.width,b.height),e.x=b.x-b.width/2,e.y=b.y-b.height,e.name="dropArea"+j.letra,f.push(e),this.escena.addChild(e,b),h=new Droppable(j.letra,this.preload.getResult(j.letra),g,j.x-20,j.y-20,this.stage,f),h.scaleX=h.scaleY=.43,this.observer.subscribe("init_drag",h.onInitEvaluation),this.observer.subscribe("stop_drag",h.onStopEvaluation),i=this.createBitmap("f"+this.letras[g].letra,this.letras[g].letra,b.x,b.y-14,"bc"),6===g&&i.set({x:1075,y:850}),i.visible=!1,this.addToLibrary(h,i),this.escena.addChild(h,i);return this.addToMain(this.escena),this},b.prototype.setFinal=function(){var a,b,c;return a=1===this.esc?"summer":"green",this.index=0,TweenLite.to(this.library.label,.5,{alpha:0}),c=new createjs.Container,c.set({name:"final",alpha:1}),b=this.createBitmap(a+"screen",a+"screen",stageSize.w/2,stageSize.h/2+100,"mc"),c.addChild(b),this.addToLibrary(c),this.addToMain(c),TweenLite.from(c,1,{alpha:0,onComplete:this.finalAndThen})},b.prototype.finalAndThen=function(){return 1===this.esc?(this.setScene(2).initEvaluation(),TweenLite.to(this.library.final,.5,{alpha:0,delay:2}),TweenLite.from(this.library.label,.5,{alpha:0,delay:2}),TweenLite.from(this.library.escena,1,{alpha:0,delay:2,y:this.library.escena.y+40})):TweenLite.to(this.library.final,.5,{alpha:0,delay:2,onComplete:this.finish})},b.prototype.introEvaluation=function(){return b.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:1}),TweenLite.from(this.library.label,1,{alpha:0,y:this.library.label.y+20,delay:2}),TweenLite.from(this.library.escena,1,{alpha:0,y:this.library.escena.y+40,delay:2,onComplete:this.playInstructions,onCompleteParams:[this]})},b.prototype.initEvaluation=function(){var a,c,d,e;for(b.__super__.initEvaluation.apply(this,arguments),e=[],a=c=0,d=this.letras.length-1;d>=0?d>=c:c>=d;a=d>=0?++c:--c)this.library[""+this.letras[a].letra].initDragListener(),e.push(this.library[""+this.letras[a].letra].addEventListener("dropped",this.evaluateAnswer));return e},b.prototype.evaluateAnswer=function(a){return this.answer=a.target,this.drop=a.drop,"dropArea"+this.answer.name===this.drop.name&&this.answer.name===this.texts[this.index].l?(this.library["f"+this.answer.name].visible=!0,this.answer.visible=!1,0===this.intento&&0===this.vuelta&&this.library.score.plusOne(),this.finishEvaluation(),this.intento=0,this.vuelta++,createjs.Sound.play("good")):(this.answer.returnToPlace(1,.43,.43),this.intento=1,this.warning())},b.prototype.finishEvaluation=function(){return TweenLite.to(this.library.label,.5,{alpha:0,y:this.library.label.y+20,ease:Quart.easeOut,onComplete:this.nextEvaluation})},b.prototype.nextEvaluation=function(){return this.index++,this.vuelta=0,this.index<this.texts.length?(this.library.label.text=this.texts[this.index].t,TweenLite.to(this.library.label,.5,{alpha:1,y:this.library.label.y-20,ease:Quart.easeOut})):(this.escena.removeAllChildren(),this.mainContainer.removeChild(this.escena),this.setFinal())},b.prototype.finish=function(){return b.__super__.finish.apply(this,arguments)},window.U7A3=b,b}(Oda);