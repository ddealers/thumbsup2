var U2A2,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U2A2=function(a){function b(){this.repeat=__bind(this.repeat,this),this.showPhrase=__bind(this.showPhrase,this),this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer=__bind(this.evaluateAnswer,this),this.initEvaluation=__bind(this.initEvaluation,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"lady",src:"lady.png"},{id:"repeat",src:"repeat_btn.png"},{id:"bed",src:"bed.png"},{id:"broom",src:"broom.png"},{id:"kitchen",src:"clean-kitchen.png"},{id:"toys",src:"clean-toys.png"},{id:"cat",src:"feed-cat.png"},{id:"dog",src:"feed-dog.png"},{id:"fish",src:"feed-fish.png"},{id:"garbage",src:"out-garbage.png"},{id:"doll",src:"play-doll.png"},{id:"soup",src:"soup.png"},{id:"swipe",src:"swipe.png"},{id:"walkdog",src:"walk-dog.png"},{id:"dishes",src:"wash-dishes.png"},{id:"plants",src:"water-plants.png"}],c=[{src:"sounds/TU2_U2_A2_instructions.mp3",id:"instructions"},{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/good.mp3",id:"good"},{src:"sounds/TU2_U2_A2_cleanUpTheKitchen.mp3",id:"skitchen"},{src:"sounds/TU2_U2_A2_feedTheCat.mp3",id:"scat"},{src:"sounds/TU2_U2_A2_feedTheDog.mp3",id:"sdog"},{src:"sounds/TU2_U2_A2_feedTheFish.mp3",id:"sfish"},{src:"sounds/TU2_U2_A2_makeYourBed.mp3",id:"sbed"},{src:"sounds/TU2_U2_A2_pickUpYourRoom.mp3",id:"sdoll"},{src:"sounds/TU2_U2_A2_putAwayYourToys.mp3",id:"stoys"},{src:"sounds/TU2_U2_A2_setTheTable.mp3",id:"ssoup"},{src:"sounds/TU2_U2_A2_sweepTheFloor.mp3",id:"sswipe"},{src:"sounds/TU2_U2_A2_sweepTheKitchen.mp3",id:"skitchen1"},{src:"sounds/TU2_U2_A2_takeOutTheBroom.mp3",id:"sbroom"},{src:"sounds/TU2_U2_A2_takeOutTheTrash.mp3",id:"sgarbage"},{src:"sounds/TU2_U2_A2_walkTheDog.mp3",id:"swalkdog"},{src:"sounds/TU2_U2_A2_washTheDishes.mp3",id:"sdishes"},{src:"sounds/TU2_U2_A2_waterThePlants.mp3",id:"splants"},{src:"sounds/wrong.mp3",id:"wrong"}],this.game={answers:[{id:"kitchen",a:!1},{id:"cat",a:!1},{id:"dog",a:!1},{id:"fish",a:!1},{id:"bed",a:!1},{id:"doll",a:!1},{id:"toys",a:!1},{id:"soup",a:!1},{id:"swipe",a:!1},{id:"broom",a:!1},{id:"garbage",a:!1},{id:"walkdog",a:!1},{id:"dishes",a:!1},{id:"plants",a:!1}]},b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){var a,c,d,e,f,g,h,i,j,k,l;for(b.__super__.setStage.apply(this,arguments),this.answers=this.game.answers.slice(0),l=this.answers,j=0,k=l.length;k>j;j++)a=l[j],a.a=!1;return this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions",["Listen and click on the correct picture."],80,200),this.insertBitmap("teacher","lady",500,268),e=new Button("repeat",this.preload.getResult("repeat"),0,882,420),h=this.createSprite("choose1",["kitchen","cat","dog","fish","bed","doll","toys","soup","swipe","broom","garbage","walkdog","dishes","plants"],{kitchen:0,cat:1,dog:2,fish:3,bed:4,doll:5,toys:6,soup:7,swipe:8,broom:9,garbage:10,walkdog:11,dishes:12,plants:13},0,0),h.mouseEnabled=!1,f=new createjs.Shape,f.graphics.beginFill("rgba(255,255,255,0.1)").drawRect(0,0,h.getBounds().width,h.getBounds().height),c=new createjs.Container,c.set({name:"choose1",x:540,y:904,sprite:h}),this.setReg(c,h.getBounds().width/2,h.getBounds().height/2),c.addChild(h,f),i=this.createSprite("choose2",["kitchen","cat","dog","fish","bed","doll","toys","soup","swipe","broom","garbage","walkdog","dishes","plants"],{kitchen:0,cat:1,dog:2,fish:3,bed:4,doll:5,toys:6,soup:7,swipe:8,broom:9,garbage:10,walkdog:11,dishes:12,plants:13},0,0),i.mouseEnabled=!1,g=new createjs.Shape,g.graphics.beginFill("rgba(255,255,255,0.1)").drawRect(0,0,i.getBounds().width,i.getBounds().height),d=new createjs.Container,d.set({name:"choose2",x:1182,y:904,sprite:i}),this.setReg(d,i.getBounds().width/2,i.getBounds().height/2),d.addChild(i,g),this.addToMain(e,c,d),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,14,0)),this.introEvaluation()},b.prototype.introEvaluation=function(){return b.__super__.introEvaluation.apply(this,arguments),this.library.choose1.alpha=0,this.library.choose1.scaleX=this.library.choose1.scaleY=.3,this.library.choose2.alpha=0,this.library.choose2.scaleX=this.library.choose2.scaleY=.3,TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:1}),TweenLite.from(this.library.teacher,1,{alpha:0,y:this.library.teacher.y+100,delay:2}),TweenLite.from(this.library.repeat,1,{alpha:0,y:this.library.repeat.y+100,delay:2,onComplete:this.playInstructions,onCompleteParams:[this]})},b.prototype.initEvaluation=function(){return b.__super__.initEvaluation.apply(this,arguments),this.showPhrase(),this.library.repeat.addEventListener("click",this.repeat)},b.prototype.evaluateAnswer=function(a){var b;return this.answer=a.target.parent.sprite,b=this.answers.where({id:this.phrase.id}),b[0].a=!0,this.phrase.id===this.answer.currentAnimation?(createjs.Sound.play("good"),this.library.score.plusOne(),this.library.choose1.removeEventListener("click",this.evaluateAnswer),this.library.choose2.removeEventListener("click",this.evaluateAnswer),setTimeout(this.finishEvaluation,1e3)):(TweenMax.to([this.library.choose1,this.library.choose2],1,{alpha:0,scaleX:.6,scaleY:.6,ease:Elastic.easeOut,onComplete:this.finishEvaluation}),this.warning())},b.prototype.finishEvaluation=function(){return TweenMax.to([this.library.choose1,this.library.choose2],1,{alpha:0,scaleX:.3,scaleY:.3,ease:Elastic.easeOut,onComplete:this.nextEvaluation})},b.prototype.nextEvaluation=function(){return this.index++,console.log(this.index),this.index<this.answers.length?this.showPhrase():this.finish()},b.prototype.showPhrase=function(){var a,b,c,d;return d=Math.random()>.5?1:2,b=1===d?2:1,this.phrase=this.getPhrase(),c=this.answers.filter(function(a){return function(b){return b.id!==a.phrase.id}}(this)),a=Math.floor(Math.random()*c.length),this.library["choose"+d].sprite.gotoAndStop(this.phrase.id),this.library["choose"+b].sprite.gotoAndStop(c[a].id),this.library.choose1.addEventListener("click",this.evaluateAnswer),this.library.choose2.addEventListener("click",this.evaluateAnswer),createjs.Sound.play("s"+this.phrase.id),TweenMax.to([this.library.choose1,this.library.choose2],1,{alpha:1,scaleX:1,scaleY:1,ease:Elastic.easeOut})},b.prototype.getPhrase=function(){var a,b;return b=this.answers.filter(function(a){return a.a===!1}),a=Math.floor(Math.random()*b.length),b[a]},b.prototype.repeat=function(){return createjs.Sound.play("s"+this.phrase.id)},b.prototype.shuffle=function(a){var b,c,d,e,f,g;for(g=[],b=d=e=a.length;1>=e?1>=d:d>=1;b=1>=e?++d:--d)c=Math.floor(Math.random()*(b+1)),g.push((f=[a[c],a[b]],a[b]=f[0],a[c]=f[1],f));return g},b.prototype.blink=function(a,b){return null==b&&(b=!0),TweenMax.killTweensOf(a),a.alpha=1,b?TweenMax.to(a,.5,{alpha:.5,repeat:-1,yoyo:!0}):void 0},b.prototype.finish=function(){return TweenLite.to(this.library.teacher,1,{alpha:0,y:this.library.teacher.y+50}),TweenLite.to(this.library.repeat,1,{alpha:0,y:this.library.repeat.y+50}),b.__super__.finish.apply(this,arguments)},window.U2A2=b,b}(Oda);