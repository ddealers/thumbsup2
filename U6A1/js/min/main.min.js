(function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},i={}.hasOwnProperty,s=function(e,t){function s(){this.constructor=e}for(var a in t)i.call(t,a)&&(e[a]=t[a]);return s.prototype=t.prototype,e.prototype=new s,e.__super__=t.prototype,e};e=function(e){function i(){this.nextEvaluation=t(this.nextEvaluation,this),this.finishEvaluation=t(this.finishEvaluation,this),this.evaluateLocation=t(this.evaluateLocation,this),this.evaluateAnswer=t(this.evaluateAnswer,this),this.initDrag=t(this.initDrag,this),this.selectPuzzle=t(this.selectPuzzle,this),this.initEvaluation=t(this.initEvaluation,this);var e,s;e=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"b1",src:"p1-btn.png"},{id:"b2",src:"p2-btn.png"},{id:"m1",src:"marco-1.png"},{id:"m2",src:"marco-2.png"},{id:"p1p1",src:"puzzle1-1.png"},{id:"p1p1back",src:"puzzle1-1-back.png"},{id:"p1p2",src:"puzzle1-2.png"},{id:"p1p2back",src:"puzzle1-2-back.png"},{id:"p1p3",src:"puzzle1-3.png"},{id:"p1p3back",src:"puzzle1-3-back.png"},{id:"p1p4",src:"puzzle1-4.png"},{id:"p1p4back",src:"puzzle1-4-back.png"},{id:"p1p5",src:"puzzle1-5.png"},{id:"p1p5back",src:"puzzle1-5-back.png"},{id:"p1p6",src:"puzzle1-6.png"},{id:"p1p6back",src:"puzzle1-6-back.png"},{id:"p1p7",src:"puzzle1-7.png"},{id:"p1p7back",src:"puzzle1-7-back.png"},{id:"p1p8",src:"puzzle1-8.png"},{id:"p1p8back",src:"puzzle1-8-back.png"},{id:"p1p9",src:"puzzle1-9.png"},{id:"p1p9back",src:"puzzle1-9-back.png"},{id:"p1p10",src:"puzzle1-10.png"},{id:"p1p10back",src:"puzzle1-10-back.png"},{id:"p1p11",src:"puzzle1-11.png"},{id:"p1p11back",src:"puzzle1-11-back.png"},{id:"p1p12",src:"puzzle1-12.png"},{id:"p1p12back",src:"puzzle1-12-back.png"},{id:"p2p1",src:"puzzle2-1.png"},{id:"p2p1back",src:"puzzle2-1-back.png"},{id:"p2p2",src:"puzzle2-2.png"},{id:"p2p2back",src:"puzzle2-2-back.png"},{id:"p2p3",src:"puzzle2-3.png"},{id:"p2p3back",src:"puzzle2-3-back.png"},{id:"p2p4",src:"puzzle2-4.png"},{id:"p2p4back",src:"puzzle2-4-back.png"},{id:"p2p5",src:"puzzle2-5.png"},{id:"p2p5back",src:"puzzle2-5-back.png"},{id:"p2p6",src:"puzzle2-6.png"},{id:"p2p6back",src:"puzzle2-6-back.png"},{id:"p2p7",src:"puzzle2-7.png"},{id:"p2p7back",src:"puzzle2-7-back.png"},{id:"p2p8",src:"puzzle2-8.png"},{id:"p2p8back",src:"puzzle2-8-back.png"},{id:"p2p9",src:"puzzle2-9.png"},{id:"p2p9back",src:"puzzle2-9-back.png"},{id:"p2p10",src:"puzzle2-10.png"},{id:"p2p10back",src:"puzzle2-10-back.png"},{id:"p2p11",src:"puzzle2-11.png"},{id:"p2p11back",src:"puzzle2-11-back.png"},{id:"p2p12",src:"puzzle2-12.png"},{id:"p2p12back",src:"puzzle2-12-back.png"},{id:"btnfalse",src:"false-btn.png"},{id:"btntrue",src:"true-btn.png"}],s=[{src:"sounds/TU2_U6_A1_instructions.mp3",id:"instructions"},{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/bell_cow_3.mp3",id:"bell"}],i.__super__.constructor.call(this,null,e,s)}return s(i,e),i.prototype.setStage=function(){return i.__super__.setStage.apply(this,arguments),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions","Drag the puzzle pieces, read and click on the correct answers.",80,200),this.p1=new createjs.Container,this.p1.name="p1",this.p1.x=1462,this.p1.y=966,this.b1=this.createBitmap("b1","b1",0,0),this.b1.mouseEnabled=!1,this.shape1=new createjs.Shape,this.shape1.graphics.beginFill("rgba(255,255,255,0.1)").drawRect(0,0,this.b1.getBounds().width,this.b1.getBounds().height),this.p1.addChild(this.b1,this.shape1),this.p2=new createjs.Container,this.p2.name="p2",this.p2.x=1462,this.p2.y=1060,this.b2=this.createBitmap("b2","b2",0,0),this.b2.mouseEnabled=!1,this.shape2=new createjs.Shape,this.shape2.graphics.beginFill("rgba(255,255,255,0.1)").drawRect(0,0,this.b2.getBounds().width,this.b2.getBounds().height),this.p2.addChild(this.b2,this.shape2),this.addToMain(this.p1,this.p2),this.addToLibrary(this.p1,this.p2),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,8,0)),this.introEvaluation()},i.prototype.introEvaluation=function(){return i.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:.5,onComplete:this.playInstructions,onCompleteParams:[this]}),TweenMax.from([this.library.p1,this.library.p2,this.library.p3],1,{alpha:0,y:stageSize.h,delay:1})},i.prototype.initEvaluation=function(){var e,t,s;for(i.__super__.initEvaluation.apply(this,arguments),s=[],e=t=1;2>=t;e=t+=1)this.blink(this["p"+e]),s.push(this["p"+e].addEventListener("click",this.selectPuzzle));return s},i.prototype.selectPuzzle=function(e){var t,i;for(t=i=1;2>=i;t=i+=1)this.blink(this["p"+t],!1),this["p"+t].removeEventListener("click",this.selectPuzzle);switch(this.trueb=new createjs.Container,this.trueb.x=600,this.trueb.y=1080,this.trueb.name="btntrue",this["true"]=this.createBitmap("btrue","btntrue",0,0),this["true"].mouseEnabled=!1,this.shapetrue=new createjs.Shape,this.shapetrue.graphics.beginFill("rgba(0,0,0,0.1)").drawRect(0,0,this["true"].getBounds().width,this["true"].getBounds().height),this.trueb.addChild(this["true"],this.shapetrue),this.falseb=new createjs.Container,this.falseb.x=840,this.falseb.y=1080,this.falseb.name="btnfalse",this["false"]=this.createBitmap("bfalse","btnfalse",0,0),this["false"].mouseEnabled=!1,this.shapefalse=new createjs.Shape,this.shapefalse.graphics.beginFill("rgba(0,0,0,0.1)").drawRect(0,0,this["false"].getBounds().width,this["false"].getBounds().height),this.falseb.addChild(this["false"],this.shapefalse),this.addToMain(this.trueb,this.falseb),this.addToLibrary(this.trueb,this.falseb),console.log(e.target),e.target.parent.name){case"p1":this.pieces={p1p1:{x:304,y:162,text:"A firefighter puts out fires.",label:"true",back:!0},p1p2:{x:493,y:162},p1p3:{x:634,y:162,text:"A nurse helps sick people.",label:"true",back:!0},p1p4:{x:828,y:163},p1p5:{x:304,y:334,text:"A mail carrier works at he post office.",label:"true",back:!0},p1p6:{x:493,y:334,text:"A bus driver works in an office.",label:"false",back:!0},p1p7:{x:637,y:334,text:"A waitress works at a grocery store.",label:"false",back:!0},p1p8:{x:815,y:333,text:"A salesclerk works at a bank.",label:"false",back:!0},p1p9:{x:303,y:515},p1p10:{x:458,y:516,text:"A librarian sells books.",label:"false",back:!0},p1p11:{x:676,y:515},p1p12:{x:815,y:516,text:"A chef serves food.",label:"false",back:!0}},this.answers=8,this.setPuzzle(1);break;case"p2":this.pieces={p2p1:{x:308,y:166,text:"A doctor works at a bank.",label:"false",back:!0},p2p2:{x:497,y:166},p2p3:{x:641,y:166,text:"A teacher works at a library.",label:"false",back:!0},p2p4:{x:834,y:166},p2p5:{x:306,y:338,text:"A mechanic fixes cars.",label:"true",back:!0},p2p6:{x:496,y:336,text:"A police officer puts out fires.",label:"false",back:!0},p2p7:{x:638,y:337,text:"A farmer fixes cars.",label:"false",back:!0},p2p8:{x:820,y:336,text:"A waitress works at a restaurant.",label:"true",back:!0},p2p9:{x:309,y:520},p2p10:{x:462,y:520,text:"A vet helps sick animals.",label:"true",back:!0},p2p11:{x:678,y:519},p2p12:{x:820,y:519,text:"A salesclerk works at a museum.",label:"false",back:!0}},this.answers=8,this.setPuzzle(2)}return TweenLite.from(this.library.btntrue,1,{alpha:0,y:this.library.btntrue.y-40}),TweenLite.from(this.library.btnfalse,1,{alpha:0,y:this.library.btnfalse.y-40,delay:.2})},i.prototype.setPuzzle=function(e){var t,i,s,a,p,r,n,l,c;for(this.num=e,n=new createjs.Container,n.x=150,n.y=290,n.name="puzzle",p=this.createBitmap("m"+e,"m"+e,290,150),n.addChild(p),s=l=1;12>=l;s=l+=1)r=this.pieces["p"+e+"p"+s].back?this.createBitmap("p"+e+"p"+s+"b","p"+e+"p"+s+"back",this.pieces["p"+e+"p"+s].x,this.pieces["p"+e+"p"+s].y):this.createBitmap("p"+e+"p"+s,"p"+e+"p"+s,this.pieces["p"+e+"p"+s].x,this.pieces["p"+e+"p"+s].y),this.addToLibrary(r),n.addChild(r);for(i=new createjs.Container,i.x=stageSize.w/2,i.y=270,i.name="dragpieces",a=0,s=c=1;12>=c;s=c+=1)this.pieces["p"+e+"p"+s].back&&(t=new Draggable("dp"+e+"p"+s,this.preload.getResult("p"+e+"p"+s),"p"+e+"p"+s,176*a,0),t.addEventListener("drop",this.evaluateAnswer),this.observer.subscribe("init_drag",t.onInitEvaluation),this.observer.subscribe("stop_drag",t.onStopEvaluation),t.scaleX=t.scaleY=.6,a++,this.addToLibrary(t),i.addChild(t));return i.width=176*a,this.setReg(i,i.width/2,0),this.addToMain(n),this.addToMain(i),TweenLite.from(n,1,{alpha:0,y:n.y-40,delay:.6}),TweenLite.from(i,1,{alpha:0,y:n.y-40,delay:.6,onComplete:this.initDrag})},i.prototype.initDrag=function(){return this.observer.notify("init_drag")},i.prototype.initListeners=function(){return this.library.btntrue.addEventListener("click",this.evaluateLocation),this.library.btnfalse.addEventListener("click",this.evaluateLocation)},i.prototype.stopListeners=function(){return this.library.btntrue.removeEventListener("click",this.evaluateLocation),this.library.btnfalse.removeEventListener("click",this.evaluateLocation)},i.prototype.evaluateAnswer=function(e){var t,i,s,a;return this.answer=e.target,t=this.library[this.answer.index+"b"],a=t.globalToLocal(this.stage.mouseX,this.stage.mouseY),t.hitTest(a.x,a.y)?(i=t.parent.localToGlobal(t.x,t.y),s=this.answer.parent.globalToLocal(i.x,i.y),this.insertText("dropper",this.pieces[this.answer.index].text,"48px Quicksand","#333",stageSize.w/2,1020,"center"),createjs.Sound.play("bell"),this.observer.notify("stop_drag"),this.answer.putInPlace(s),this.answer.removeAllEventListeners(),this.initListeners()):this.answer.returnToPlace(this.answer.alpha,this.answer.scaleX,this.answer.scaleY)},i.prototype.evaluateLocation=function(e){var t;return t=e.target.parent.name,console.log(t,"btn"+this.pieces[this.answer.index].label),t==="btn"+this.pieces[this.answer.index].label?(this.stopListeners(),createjs.Sound.play("good"),this.library.score.plusOne(),setTimeout(this.finishEvaluation,1e3)):(this.warning(),setTimeout(this.finishEvaluation,1e3))},i.prototype.finishEvaluation=function(){return TweenLite.to(this.library.dropper,.5,{alpha:0,y:stageSize.h,ease:Quart.easeOut,onComplete:this.nextEvaluation})},i.prototype.nextEvaluation=function(){return this.index++,this.index<this.answers?this.initDrag():this.finish()},i.prototype.blink=function(e,t){return null==t&&(t=!0),TweenMax.killTweensOf(e),e.alpha=1,t?TweenMax.to(e,.5,{alpha:.5,repeat:-1,yoyo:!0}):void 0},i.prototype.finish=function(){return TweenLite.to(this.library.dragpieces,1,{alpha:0,y:this.y-40}),TweenLite.to(this.library.puzzle,1,{alpha:0,y:this.y-40}),TweenMax.to([this.library.p1,this.library.p2,this.library.btntrue,this.library.btnfalse],1,{alpha:0,y:stageSize.h}),i.__super__.finish.apply(this,arguments)},window.U6A1=i,i}(Oda)}).call(this);