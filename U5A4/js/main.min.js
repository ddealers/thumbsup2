var U5A4,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U5A4=function(a){function b(){this.repeatSound=__bind(this.repeatSound,this),this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer=__bind(this.evaluateAnswer,this),this.selectKid=__bind(this.selectKid,this),this.initEvaluation=__bind(this.initEvaluation,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"bg",src:"prop_piso.png"},{id:"summerJenifferdressclothdrag",src:"summer/jeniffer_dress_cloth_drag_summer.png"},{id:"summerJenifferhatclothdrag",src:"summer/jeniffer_hat_cloth_drag_summer.png"},{id:"summerJeniffersandalsclothdrag",src:"summer/jeniffer_sandals_cloth_drag_summer.png"},{id:"summerJeniffersunglassesclothdrag",src:"summer/jeniffer_sunglasses_cloth_drag_summer.png"},{id:"summerMIkecapclothdrag",src:"summer/mIke_cap_cloth_drag_summer.png"},{id:"summerMIkeshirtclothdrag",src:"summer/mIke_shirt_cloth_drag_summer.png"},{id:"summerMIkesunglassesclothdrag",src:"summer/mIke_sunglasses_cloth_drag_summer.png"},{id:"summerMIkeswimsuitclothdrag",src:"summer/mIke_swimsuit_cloth_drag_summer.png"},{id:"summerMIketennisclothdrag",src:"summer/mIke_tennis_cloth_drag_summer.png"},{id:"summerRachelhatclothdrag",src:"summer/rachel_hat_cloth_drag_summer.png"},{id:"summerRachelsandalsclothdrag",src:"summer/rachel_sandals_cloth_drag_summer.png"},{id:"summerRachelswimsuitclothdrag",src:"summer/rachel_swimsuit_cloth_drag_summer.png"},{id:"summerTylercapclothdrag",src:"summer/tyler_cap_cloth_drag_summer.png"},{id:"summerTylersandalsclothdrag",src:"summer/tyler_sandals_cloth_drag_summer.png"},{id:"summerTylerswimsuitclothdrag",src:"summer/tyler_swimsuit_cloth_drag_summer.png"},{id:"winterJenniferbootsclothdrag",src:"winter/jennifer_boots_cloth_drag_winter.png"},{id:"winterJenniferhatclothdrag",src:"winter/jennifer_hat_cloth_drag_winter.png"},{id:"winterJenniferraincoatclothdrag",src:"winter/jennifer_raincoat_cloth_drag_winter.png"},{id:"winterMikebootsclothdrag",src:"winter/mike_boots_cloth_drag_winter.png"},{id:"winterMikecoatclothdrag",src:"winter/mike_coat_cloth_drag_winter.png"},{id:"winterMikeglovesclothdrag",src:"winter/mike_gloves_cloth_drag_winter.png"},{id:"winterMikehatclothdragwinter",src:"winter/mike_hat_cloth_drag_winter.png"},{id:"winterMikejeansclothdrag",src:"winter/mike_jeans_cloth_drag_winter.png"},{id:"winterRacheljacketclothdrag",src:"winter/rachel_jacket_cloth_drag_winter.png"},{id:"winterRachelscarfclothdrag",src:"winter/rachel_scarf_cloth_drag_winter.png"},{id:"winterRachelshoesclothdrag",src:"winter/rachel_shoes_cloth_drag_winter.png"},{id:"winterRachelskirtclothdrag",src:"winter/rachel_skirt_cloth_drag_winter.png"},{id:"winterTylerhatclothdrag",src:"winter/tyler_hat_cloth_drag_winter.png"},{id:"winterTylerpantsclothdrag",src:"winter/tyler_pants_cloth_drag_winter.png"},{id:"winterTylersweaterclothdrag",src:"winter/tyler_sweater_cloth_drag_winter.png"},{id:"winterTylertennisclothdrag",src:"winter/tyler_tennis_cloth_drag_winter.png"},{id:"summerchildjennifer",src:"summer_child_jennifer.png"},{id:"summerchildjenniferdress",src:"summer_child_jennifer_dress.png"},{id:"summerchildjenniferglasses",src:"summer_child_jennifer_glasses.png"},{id:"summerchildjenniferhat",src:"summer_child_jennifer_hat.png"},{id:"summerchildjennifershoes",src:"summer_child_jennifer_shoes.png"},{id:"summerchildmike",src:"summer_child_mike.png"},{id:"summerchildmikeglasses",src:"summer_child_mike_glasses.png"},{id:"summerchildmikehat",src:"summer_child_mike_hat.png"},{id:"summerchildmikeshirt",src:"summer_child_mike_shirt.png"},{id:"summerchildmikeshoes",src:"summer_child_mike_shoes.png"},{id:"summerchildmikeshort",src:"summer_child_mike_short.png"},{id:"summerchildrachel",src:"summer_child_rachel.png"},{id:"summerchildrachelhat",src:"summer_child_rachel_hat.png"},{id:"summerchildrachelshoes",src:"summer_child_rachel_shoes.png"},{id:"summerchildrachelsuit",src:"summer_child_rachel_suit.png"},{id:"summerchildtyler",src:"summer_child_tyler.png"},{id:"summerchildtylerhat",src:"summer_child_tyler_hat.png"},{id:"summerchildtylershoes",src:"summer_child_tyler_shoes.png"},{id:"summerchildtylershort",src:"summer_child_tyler_short.png"},{id:"winterchildrachelbufanda",src:"winter_child_bufanda.png"},{id:"winterchildjennifer",src:"winter_child_jennifer.png"},{id:"winterchildjenniferboots",src:"winter_child_jennifer_boots.png"},{id:"winterchildjennifercoat",src:"winter_child_jennifer_coat.png"},{id:"winterchildjenniferhat",src:"winter_child_jennifer_hat.png"},{id:"winterchildmike",src:"winter_child_mike.png"},{id:"winterchildmikeboats",src:"winter_child_mike_boats.png"},{id:"winterchildmikecoat",src:"winter_child_mike_coat.png"},{id:"winterchildmikegloves",src:"winter_child_mike_gloves.png"},{id:"winterchildmikehat",src:"winter_child_mike_hat.png"},{id:"winterchildmikejeans",src:"winter_child_mike_jeans.png"},{id:"winterchildrachel",src:"winter_child_rachel.png"},{id:"winterchildrachelcoat",src:"winter_child_rachel_coat.png"},{id:"winterchildrachelshoes",src:"winter_child_rachel_shoes.png"},{id:"winterchildrachelskirt",src:"winter_child_rachel_skirt.png"},{id:"winterchildtyler",src:"winter_child_tyler.png"},{id:"winterchildtylerhat",src:"winter_child_tyler_hat.png"},{id:"winterchildtylerpants",src:"winter_child_tyler_pants.png"},{id:"winterchildtylersweater",src:"winter_child_tyler_sweater.png"},{id:"winterchildtylertennis",src:"winter_child_tyler_tennis.png"}],c=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU2_U5_A4_instructions.mp3",id:"instructions"},{src:"sounds/TU2_U5_A4_summer_jennifer.mp3",id:"ssummerchildjennifer"},{src:"sounds/TU2_U5_A4_summer_mike.mp3",id:"ssummerchildmike"},{src:"sounds/TU2_U5_A4_summer_rachel.mp3",id:"ssummerchildrachel"},{src:"sounds/TU2_U5_A4_summer_tyler.mp3",id:"ssummerchildtyler"},{src:"sounds/TU2_U5_A4_winter_jennifer.mp3",id:"swinterchildjennifer"},{src:"sounds/TU2_U5_A4_winter_mike.mp3",id:"swinterchildmike"},{src:"sounds/TU2_U5_A4_winter_rachel.mp3",id:"swinterchildrachel"},{src:"sounds/TU2_U5_A4_winter_tyler.mp3",id:"swinterchildtyler"}],this.game={summer:{kids:[["summerchildjennifer","summerchildjenniferdress","summerchildjenniferglasses","summerchildjenniferhat","summerchildjennifershoes"],["summerchildtyler","summerchildtylershort","summerchildtylerhat","summerchildtylershoes"],["summerchildrachel","summerchildrachelhat","summerchildrachelshoes","summerchildrachelsuit"],["summerchildmike","summerchildmikeglasses","summerchildmikehat","summerchildmikeshort","summerchildmikeshirt","summerchildmikeshoes"]],imgs:[["kid0asset0","kid0asset1","kid0asset2","kid0asset3","kid0asset4"],["kid1asset0","kid1asset1","kid1asset2","kid1asset3"],["kid2asset0","kid2asset1","kid2asset2","kid2asset3"],["kid3asset0","kid3asset1","kid3asset2","kid3asset3","kid3asset4","kid3asset5"]],drops:[{summerJenifferdressclothdrag:"kid0asset1",summerJenifferhatclothdrag:"kid0asset3",summerJeniffersandalsclothdrag:"kid0asset4",summerJeniffersunglassesclothdrag:"kid0asset2"},{summerTylercapclothdrag:"kid1asset2",summerTylersandalsclothdrag:"kid1asset3",summerTylerswimsuitclothdrag:"kid1asset1"},{summerRachelhatclothdrag:"kid2asset1",summerRachelsandalsclothdrag:"kid2asset2",summerRachelswimsuitclothdrag:"kid2asset3"},{summerMIkecapclothdrag:"kid3asset2",summerMIkeshirtclothdrag:"kid3asset4",summerMIkesunglassesclothdrag:"kid3asset1",summerMIkeswimsuitclothdrag:"kid3asset3",summerMIketennisclothdrag:"kid3asset5"}],positions:[{id:"summerJenifferdressclothdrag",x:1466,y:920},{id:"summerJenifferhatclothdrag",x:292,y:864},{id:"summerJeniffersandalsclothdrag",x:1434,y:810},{id:"summerJeniffersunglassesclothdrag",x:494,y:864},{id:"summerMIkecapclothdrag",x:1264,y:878},{id:"summerMIkeshirtclothdrag",x:1008,y:900},{id:"summerMIkesunglassesclothdrag",x:1390,y:1110},{id:"summerMIkeswimsuitclothdrag",x:1230,y:1e3},{id:"summerMIketennisclothdrag",x:844,y:1036},{id:"summerRachelhatclothdrag",x:696,y:854},{id:"summerRachelsandalsclothdrag",x:1006,y:1088},{id:"summerRachelswimsuitclothdrag",x:922,y:882},{id:"summerTylercapclothdrag",x:606,y:960},{id:"summerTylersandalsclothdrag",x:582,y:1070},{id:"summerTylerswimsuitclothdrag",x:374,y:1032}]},winter:{kids:[["winterchildjennifer","winterchildjenniferboots","winterchildjennifercoat","winterchildjenniferhat"],["winterchildtyler","winterchildtylerhat","winterchildtylerpants","winterchildtylersweater","winterchildtylertennis"],["winterchildrachel","winterchildrachelcoat","winterchildrachelshoes","winterchildrachelskirt","winterchildrachelbufanda"],["winterchildmike","winterchildmikejeans","winterchildmikeboats","winterchildmikecoat","winterchildmikegloves","winterchildmikehat"]],drops:[],positions:[{id:"winterJenniferbootsclothdrag",x:1260,y:818},{id:"winterJenniferhatclothdrag",x:1082,y:856},{id:"winterJenniferraincoatclothdrag",x:1426,y:1030},{id:"winterMikebootsclothdrag",x:608,y:1072},{id:"winterMikecoatclothdrag",x:820,y:994},{id:"winterMikeglovesclothdrag",x:960,y:980},{id:"winterMikehatclothdragwinter",x:442,y:858},{id:"winterMikejeansclothdrag",x:264,y:888},{id:"winterRacheljacketclothdrag",x:294,y:1046},{id:"winterRachelscarfclothdrag",x:1464,y:814},{id:"winterRachelshoesclothdrag",x:854,y:830},{id:"winterRachelskirtclothdrag",x:422,y:990},{id:"winterTylerhatclothdrag",x:1356,y:906},{id:"winterTylerpantsclothdrag",x:632,y:894},{id:"winterTylersweaterclothdrag",x:1132,y:988},{id:"winterTylertennisclothdrag",x:1264,y:1066}]}},b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){return b.__super__.setStage.apply(this,arguments),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions",["Click on the models, listen and dress them up."],80,200),this.insertBitmap("bg","bg",170,600),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,15,0)),this.setKids("summer").setRopa().introEvaluation()},b.prototype.setKids=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o;for(j=new createjs.Container,j.name="kids",j.x=320,j.y=300,this.station=a,e=this.game[this.station].kids,g=l=0;3>=l;g=l+=1)c=new createjs.Container,c.x=290*g,c.y=400,c.visible=!1,c.name="repeat"+e[g][0],d=this.createBitmap("repeat","repeatbtn",0,0),d.mouseEnabled=!1,k=new createjs.Shape,k.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(0,0,d.getBounds().width,d.getBounds().height),c.addChild(d,k),this.addToLibrary(c,d,k),j.addChild(c);for(g=m=0;3>=m;g=m+=1){for(i=new createjs.Container,h=n=0,o=e[g].length-1;o>=n;h=n+=1)b=this.createBitmap("kid"+g+"asset"+h,e[g][h],320*g+40,170,"mc"),b.mouseEnabled=!1,b.scaleX=b.scaleY=.45,h>0?b.visible=!1:(f=new createjs.Shape,f.graphics.beginFill("rgba(255,255,255,0.1)").drawRect(320*g+40-.45*b.width/2,170-.45*b.height/2,.45*b.width,.45*b.height),f.name=e[g][h],f.index=i.index=g,this.addToLibrary(f),i.addChild(f)),this.addToLibrary(b),i.addChild(b);j.addChild(i),this.addToLibrary(i)}return this.addToMain(j),this},b.prototype.setRopa=function(){var a,b,c,d,e,f;for(d=new createjs.Container,d.name="ropas",d.x=0,d.y=0,a=this.game[this.station].positions,b=e=0,f=a.length-1;f>=e;b=e+=1)c=new Draggable("r"+b,this.preload.getResult(a[b].id),a[b].id,a[b].x,a[b].y,"mc"),this.addToLibrary(c),d.addChild(c);return this.addToMain(d),this},b.prototype.introEvaluation=function(){var a,c,d,e,f,g,h;for(b.__super__.introEvaluation.apply(this,arguments),a=d=0,g=this.game[this.station].positions.length-1;g>=d;a=d+=1)this.observer.subscribe("init_kid_evaluation",this.library["r"+a].onInitEvaluation);for(h=this.game[this.station].kids,e=0,f=h.length;f>e;e++)c=h[e],this.blink(this.library[c[0]].parent);return TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:1}),TweenLite.from(this.library.bg,1,{alpha:0,y:this.library.bg.y+40,delay:2}),TweenLite.from(this.library.kids,1,{alpha:0,y:this.library.kids.y+40,delay:2}),TweenLite.from(this.library.ropas,1,{alpha:0,y:this.library.ropas.y+40,delay:3,onComplete:this.playInstructions,onCompleteParams:[this]})},b.prototype.initEvaluation=function(){var a,c,d,e,f;for(b.__super__.initEvaluation.apply(this,arguments),e=this.game[this.station].kids,f=[],c=0,d=e.length;d>c;c++)a=e[c],f.push(this.library[a[0]].addEventListener("click",this.selectKid));return f},b.prototype.selectKid=function(a){var b,c,d,e,f,g,h;for(this.selected=a.target,this.blink(this.selected.parent,!1),g=this.game[this.station].kids,d=0,f=g.length;f>d;d++)c=g[d],this.library[c[0]].removeEventListener("click",this.selectKid);for(b=e=0,h=this.game[this.station].positions.length-1;h>=e;b=e+=1)this.library["r"+b].removeAllEventListeners(),this.library["r"+b].addEventListener("drop",this.evaluateAnswer);return this.intento=0,createjs.Sound.stop(),createjs.Sound.play("s"+this.selected.name),console.log(this.library["repeat"+this.selected.name]),this.library["repeat"+this.selected.name].visible=!0,this.library["repeat"+this.selected.name].children[1].addEventListener("click",this.repeatSound),this.observer.notify("init_kid_evaluation")},b.prototype.evaluateAnswer=function(a){var b,c;return this.answer=a.target,c=this.selected.globalToLocal(this.stage.mouseX,this.stage.mouseY),this.selected.hitTest(c.x,c.y)?(b=this.game[this.station].drops[this.selected.parent.index],b[this.answer.index]?(0===this.intento&&this.library.score.plusOne(),this.library[b[this.answer.index]].visible=!0,this.answer.visible=!1,this.finishEvaluation(),this.intento=0,createjs.Sound.play("good")):(this.intento=1,this.answer.returnToPlace(),this.warning())):this.answer.returnToPlace()},b.prototype.finishEvaluation=function(){var a,b,c,d;for(d=this.game[this.station].imgs[this.selected.index],b=0,c=d.length;c>b;b++)if(a=d[b],console.log(this.game[this.station].imgs[this.selected.index]),this.library[a].visible===!1)return;return this.library["repeat"+this.selected.name].removeEventListener("click",this.repeatSound),TweenLite.to(this.library["repeat"+this.selected.name],1,{y:this.library["repeat"+this.selected.name]+100,alpha:0,onComplete:this.nextEvaluation})},b.prototype.nextEvaluation=function(){var a,b,c,d,e;if(this.index++,this.index<this.game[this.station].kids.length){for(d=this.game[this.station].kids,e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(this.library[a[0]].addEventListener("click",this.selectKid));return e}return this.finish()},b.prototype.blink=function(a,b){return null==b&&(b=!0),TweenMax.killTweensOf(a),a.alpha=1,b?TweenMax.to(a,.5,{alpha:.2,repeat:-1,yoyo:!0}):void 0},b.prototype.repeatSound=function(){return createjs.Sound.stop(),createjs.Sound.play("s"+this.selected.name)},b.prototype.finish=function(){return TweenLite.to(this.library.bg,1,{alpha:0,y:this.library.bg.y+40}),TweenLite.to(this.library.kids,1,{alpha:0,y:this.library.kids.y+40}),b.__super__.finish.apply(this,arguments)},window.U5A4=b,b}(Oda);