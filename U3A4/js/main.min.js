var U3A4,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U3A4=function(a){function b(){this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer3=__bind(this.evaluateAnswer3,this),this.evaluateAnswer2=__bind(this.evaluateAnswer2,this),this.evaluateAnswer1=__bind(this.evaluateAnswer1,this),this.initEvaluation=__bind(this.initEvaluation,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"n1",src:"nube1.png"},{id:"n2",src:"nube2.png"},{id:"n3",src:"nube3.png"},{id:"table1food4",src:"food_beans.png"},{id:"table3food3",src:"food_brocoli.png"},{id:"table2food1",src:"food_corn.png"},{id:"table1food3",src:"food_eggs.png"},{id:"table3food2",src:"food_fish.png"},{id:"table2food2",src:"food_icecream.png"},{id:"table3food1",src:"food_lettuce.png"},{id:"table1food1",src:"food_milk.png"},{id:"table1food2",src:"food_pancakes.png"},{id:"table2food3",src:"food_peaches.png"},{id:"table2food4",src:"food_spinach.png"},{id:"table3food4",src:"food_tomato.png"},{id:"imageJack",src:"image_Jack.png"},{id:"imageMeg",src:"image_Meg.png"},{id:"imageTomandSue",src:"image_TomandSue.png"},{id:"labelJack",src:"label_Jack.png"},{id:"labelMeg",src:"label_Meg.png"},{id:"labelTomandSue",src:"label_TomandSue.png"},{id:"lineaJack",src:"linea_Jack.png"},{id:"lineaMeg",src:"linea_Meg.png"},{id:"lineaTomandSue",src:"linea_TomandSue.png"},{id:"Table1num1",src:"Table1_1.png"},{id:"Table1num2",src:"Table1_2.png"},{id:"Table1num3",src:"Table1_3.png"},{id:"Table1num4",src:"Table1_4.png"},{id:"Table1num5",src:"Table1_5.png"},{id:"Table1num6",src:"Table1_6.png"},{id:"Table1num7",src:"Table1_7.png"},{id:"Table1num8",src:"Table1_8.png"},{id:"Table1num9",src:"Table1_9.png"},{id:"Table1num10",src:"Table1_10.png"},{id:"Table1num11",src:"Table1_11.png"},{id:"Table1num12",src:"Table1_12.png"},{id:"Table2num1",src:"Table2_1.png"},{id:"Table2num2",src:"Table2_2.png"},{id:"Table2num3",src:"Table2_3.png"},{id:"Table2num4",src:"Table2_4.png"},{id:"Table2num5",src:"Table2_5.png"},{id:"Table2num6",src:"Table2_6.png"},{id:"Table2num7",src:"Table2_7.png"},{id:"Table2num8",src:"Table2_8.png"},{id:"Table2num9",src:"Table2_9.png"},{id:"Table2num10",src:"Table2_10.png"},{id:"Table2num11",src:"Table2_11.png"},{id:"Table2num12",src:"Table2_12.png"},{id:"Table3num1",src:"Table3_1.png"},{id:"Table3num2",src:"Table3_2.png"},{id:"Table3num3",src:"Table3_3.png"},{id:"Table3num4",src:"Table3_4.png"},{id:"Table3num5",src:"Table3_5.png"},{id:"Table3num6",src:"Table3_6.png"},{id:"Table3num7",src:"Table3_7.png"},{id:"Table3num8",src:"Table3_8.png"},{id:"Table3num9",src:"Table3_9.png"},{id:"Table3num10",src:"Table3_10.png"},{id:"Table3num11",src:"Table3_11.png"},{id:"Table3num12",src:"Table3_12.png"}],c=[{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/good.mp3",id:"good"},{src:"sounds/TU2_U3_A4_instructions.mp3",id:"instructions"},{src:"sounds/wrong.mp3",id:"wrong"}],this.answers=[[{a:"Table1num2",a1:2,a2:6,a3:10},{a:"Table1num10",a1:0,a2:7,a3:10},{a:"Table1num4",a1:2,a2:6,a3:12},{a:"Table1num9",a1:0,a2:4,a3:9},{a:"Table1num1",a1:2,a2:8,a3:9},{a:"Table1num5",a1:1,a2:8,a3:9}],[{a:"Table2num4",a1:2,a2:5,a3:12},{a:"Table2num7",a1:1,a2:5,a3:11},{a:"Table2num2",a1:2,a2:8,a3:10},{a:"Table2num10",a1:0,a2:4,a3:10},{a:"Table2num5",a1:1,a2:8,a3:9},{a:"Table2num11",a1:0,a2:7,a3:11}]],b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){return b.__super__.setStage.apply(this,arguments),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions",["Look at the chart and drag the words to build sentences."],80,200),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,12,0)),this.setDropper().setTable(1).setClouds().introEvaluation(),this.intento=0},b.prototype.setDropper=function(){return this.addToMain(new WordContainer("dropper1","","#FFF","#0098d7",340,1082,376,60)),this.addToMain(new WordContainer("dropper2","","#FFF","#0098d7",746,1082,316,60)),this.addToMain(new WordContainer("dropper3","","#FFF","#0098d7",1088,1082,272,60)),this.addToMain(this.createText("period",".","48px Arial","#000",1370,1090)),this},b.prototype.setTable=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(this.library.smileys?q=this.library.smileys:(q=new createjs.Container,q.x=492,q.name="smileys"),q.alpha=1,q.y=368,q.removeAllChildren(),this.table=a,j=this.createBitmap("lineaJack","lineaJack",-136,166),k=this.createBitmap("lineaMeg","lineaMeg",-218,52),l=this.createBitmap("lineaTomandSue","lineaTomandSue",-216,278),g=this.createBitmap("imageJack","imageJack",-164,24),h=this.createBitmap("imageMeg","imageMeg",-352,-100),i=this.createBitmap("imageTomandSue","imageTomandSue",-490,132),m=this.createBitmap("labelJack","labelJack",-138,180),n=this.createBitmap("labelMeg","labelMeg",-320,24),o=this.createBitmap("labelTomandSue","labelTomandSue",-362,284),b=this.createBitmap("table"+a+"food1","table"+a+"food1",104,-6,"bc"),c=this.createBitmap("table"+a+"food2","table"+a+"food2",366,-6,"bc"),d=this.createBitmap("table"+a+"food3","table"+a+"food3",624,-6,"bc"),e=this.createBitmap("table"+a+"food4","table"+a+"food4",888,-6,"bc"),q.addChild(j,k,l),q.addChild(g,h,i),q.addChild(m,n,o),q.addChild(b,c,d,e),TweenMax.allFrom([b,c,d,e],1,{alpha:0}),f=r=0;3>=r;f=++r)p=this.createBitmap("Table"+a+"num"+(f+1),"Table"+a+"num"+(f+1),260*f,0),q.addChild(p),this.addToLibrary(p);for(f=s=0;3>=s;f=++s)p=this.createBitmap("Table"+a+"num"+(f+5),"Table"+a+"num"+(f+5),260*f,116),q.addChild(p),this.addToLibrary(p);for(f=t=0;3>=t;f=++t)p=this.createBitmap("Table"+a+"num"+(f+9),"Table"+a+"num"+(f+9),260*f,232),q.addChild(p),this.addToLibrary(p);return this.addToMain(q),this},b.prototype.setClouds=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;switch(this.library.nube1?d=this.library.nube1:(d=new createjs.Container,d.x=154,d.y=776,d.name="nube1"),this.library.nube2?e=this.library.nube2:(e=new createjs.Container,e.x=544,e.y=738,e.name="nube2"),this.library.nube3?f=this.library.nube3:(f=new createjs.Container,f.x=1162,f.y=744,f.name="nube3"),d.alpha=1,e.alpha=1,f.alpha=1,d.removeAllChildren(),e.removeAllChildren(),f.removeAllChildren(),a=this.createBitmap("n1","n1",0,0),b=this.createBitmap("n2","n2",0,0),c=this.createBitmap("n3","n3",0,0),g=new DraggableText("t1n1","They",0,64,84),j=new DraggableText("t2n1","He",1,160,148),m=new DraggableText("t3n1","She",2,180,42),h=new DraggableText("t1n2","like",3,206,182),k=new DraggableText("t2n2","don't like",4,238,48),n=new DraggableText("t3n2","likes",5,110,76),p=new DraggableText("t4n2","doesn't like",6,268,124),r=new DraggableText("t5n2","love",7,376,196),s=new DraggableText("t6n2","loves",8,46,150),this.table){case 1:i=new DraggableText("t1n3","milk",9,64,46),l=new DraggableText("t2n3","pancakes",10,184,96),o=new DraggableText("t3n3","eggs",11,46,134),q=new DraggableText("t4n3","beans",12,170,174);break;case 2:i=new DraggableText("t1n3","corn",9,64,46),l=new DraggableText("t2n3","ice cream",10,184,96),o=new DraggableText("t3n3","peaches",11,46,134),q=new DraggableText("t4n3","spinach",12,170,174);break;case 3:i=new DraggableText("t1n3","tomatoes",9,64,46),l=new DraggableText("t2n3","broccoli",10,184,96),o=new DraggableText("t3n3","fish",11,46,134),q=new DraggableText("t4n3","lettuce",12,170,174)}return d.addChild(a,g,j,m),e.addChild(b,h,k,n,p,r,s),f.addChild(c,i,l,o,q),this.addToLibrary(g,j,m,h,k,n,p,r,s,i,l,o,q),this.addToMain(d,e,f),this},b.prototype.introEvaluation=function(){var a,c;for(b.__super__.introEvaluation.apply(this,arguments),a=c=1;3>=c;a=c+=1)this.library["t"+a+"n1"].initDragListener();return TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]}),TweenMax.allFrom([this.library.nube1,this.library.nube2,this.library.nube3],1,{alpha:0,delay:2})},b.prototype.initEvaluation=function(){var a,c;for(b.__super__.initEvaluation.apply(this,arguments),this.aindex=0,a=c=1;3>=c;a=c+=1)this.library["t"+a+"n1"].addEventListener("drop",this.evaluateAnswer1);return this.blink(this.library[this.answers[this.table-1][this.aindex].a])},b.prototype.evaluateAnswer1=function(a){var b,c,d,e,f,g,h;for(this.answer=a.target,e=!1,b=!1,c=f=1;3>=f;c=f+=1)if(d=this.library.dropper1.globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library.dropper1.hitTest(d.x,d.y)&&(b=!0,this.answer.index===this.answers[this.table-1][this.aindex].a1)){for(e=!0,this.answer.x=this.answer.pos.x,this.answer.y=this.answer.pos.y,this.library.dropper1.changeText(this.answer.text.text),c=g=1;6>=g;c=g+=1)this.library["t"+c+"n2"].initDragListener();for(c=h=1;6>=h;c=h+=1)this.library["t"+c+"n2"].addEventListener("drop",this.evaluateAnswer2)}return b?e?(createjs.Sound.stop(),createjs.Sound.play("good")):(this.answer.returnToPlace(),this.warning(),this.intento=1):this.answer.returnToPlace()},b.prototype.evaluateAnswer2=function(a){var b,c,d,e,f,g,h;for(this.answer=a.target,e=!1,b=!1,c=f=1;6>=f;c=f+=1)if(d=this.library.dropper2.globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library.dropper2.hitTest(d.x,d.y)&&(b=!0,this.answer.index===this.answers[this.table-1][this.aindex].a2)){for(this.answer.x=this.answer.pos.x,this.answer.y=this.answer.pos.y,this.library.dropper2.changeText(this.answer.text.text),e=!0,c=g=1;4>=g;c=g+=1)this.library["t"+c+"n3"].initDragListener();for(c=h=1;4>=h;c=h+=1)this.library["t"+c+"n3"].addEventListener("drop",this.evaluateAnswer3)}return b?e?(createjs.Sound.stop(),createjs.Sound.play("good")):(this.answer.returnToPlace(),this.warning(),this.intento=1):this.answer.returnToPlace()},b.prototype.evaluateAnswer3=function(a){var b,c,d,e,f,g,h;for(console.log(a.target),this.answer=a.target,b=!1,e=!1,c=f=1;6>=f;c=f+=1)d=this.library.dropper3.globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library.dropper3.hitTest(d.x,d.y)&&(b=!0,this.answer.index===this.answers[this.table-1][this.aindex].a3&&(this.answer.x=this.answer.pos.x,this.answer.y=this.answer.pos.y,this.library.dropper3.changeText(this.answer.text.text),e=!0));if(b){if(e){for(0===this.intento&&this.library.score.plusOne(),this.intento=0,createjs.Sound.stop(),createjs.Sound.play("good"),c=g=1;6>=g;c=g+=1)this.library["t"+c+"n2"].endDragListener();for(c=h=1;4>=h;c=h+=1)this.library["t"+c+"n3"].endDragListener();return setTimeout(this.finishEvaluation,1e3)}return this.answer.returnToPlace(),this.intento=1,this.warning()}return this.answer.returnToPlace()},b.prototype.finishEvaluation=function(){return this.blink(this.library[this.answers[this.table-1][this.aindex].a],!1),this.aindex++,this.aindex<this.answers[this.table-1].length?(this.blink(this.library[this.answers[this.table-1][this.aindex].a]),this.library.dropper1.changeText(""),this.library.dropper2.changeText(""),this.library.dropper3.changeText("")):(this.aindex=0,this.nextEvaluation())},b.prototype.nextEvaluation=function(){var a,b,c,d,e,f;if(this.index++,this.index<this.answers.length){for(this.library.dropper1.changeText(""),this.library.dropper2.changeText(""),this.library.dropper3.changeText(""),this.setTable(this.index+1).setClouds(),this.blink(this.library[this.answers[this.table-1][this.aindex].a]),a=b=1;3>=b;a=b+=1)this.library["t"+a+"n1"].onInitEvaluation();for(a=c=1;6>=c;a=c+=1)this.library["t"+a+"n2"].onInitEvaluation();for(a=d=1;4>=d;a=d+=1)this.library["t"+a+"n3"].onInitEvaluation();for(f=[],a=e=1;3>=e;a=e+=1)f.push(this.library["t"+a+"n1"].addEventListener("drop",this.evaluateAnswer1));return f}return this.finish()},b.prototype.finish=function(){return TweenLite.to(this.library.smileys,1,{alpha:0,y:this.library.smileys-20}),TweenMax.allTo([this.library.nube1,this.library.nube2,this.library.nube3],1,{alpha:0}),TweenMax.allTo([this.library.dropper1,this.library.dropper2,this.library.dropper3],1,{alpha:0}),b.__super__.finish.apply(this,arguments)},window.U3A4=b,b}(Oda);