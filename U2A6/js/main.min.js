var U2A6,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U2A6=function(a){function b(){this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer=__bind(this.evaluateAnswer,this),this.killThis=__bind(this.killThis,this),this.makeRaindrop=__bind(this.makeRaindrop,this),this.makeRaindropb=__bind(this.makeRaindropb,this),this.makeRaindropr=__bind(this.makeRaindropr,this),this.updateCounter=__bind(this.updateCounter,this),this.selectLevel=__bind(this.selectLevel,this),this.initEvaluation=__bind(this.initEvaluation,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"background",src:"background.png"},{id:"bucket",src:"bucket.png"},{id:"raindrop",src:"raindrop.png"},{id:"level1Btn",src:"level1-btn.png"},{id:"level2Btn",src:"level2-btn.png"},{id:"level3Btn",src:"level3-btn.png"}],c=[{src:"sounds/TU2_U2_A6_instructions.mp3",id:"instructions"},{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"}],this.counter={0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen",17:"seventeen",18:"eighteen",19:"nineteen",20:"twenty",30:"thirty",40:"forty",50:"fifty",60:"sixty",70:"seventy",80:"eighty",90:"ninety",100:"one\r\nhundred"},b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){var a,c,d,e,f,g,h,i,j,k,l,m,n;for(b.__super__.setStage.apply(this,arguments),this.buckets=[{x:264,y:984,a:!0},{x:464,y:932,a:!0},{x:664,y:984,a:!0},{x:864,y:932,a:!0},{x:1064,y:984,a:!0},{x:1264,y:932,a:!0}],this.random=[],e=0,c=new createjs.Container,c.set({x:0,y:0,name:"box"});6>e;)k=Math.round(100*Math.random()),this.random.push(k),e++;for(this.insertBitmap("background","background",0,50),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions",["Race the clock! Drag the numerals to the number words."],80,200),g=new Button("l1",this.preload.getResult("level1Btn"),0,1462,872),h=new Button("l2",this.preload.getResult("level2Btn"),0,1462,966),i=new Button("l3",this.preload.getResult("level3Btn"),0,1462,1060),this.addToMain(g,h,i),f=n=0;5>=n;f=n+=1)d=new createjs.Container,j=this.bucketName(this.random[f]),m=new createjs.Text(""+j,"32px Quicksand","#FF0000"),a=this.createBitmap("bmp"+f,"bucket",0,0),l=new createjs.Shape,l.graphics.beginFill("rgba(255,255,255,0.1)").drawRect(0,0,a.getBounds().width,a.getBounds().height),m.set({textAlign:"center",x:a.width/2,y:a.height/2}),d.set({name:"b"+f,index:this.random[f],x:this.buckets[f].x,y:this.buckets[f].y,width:a.getBounds().width,height:a.getBounds().height,shape:l}),d.addChild(a,m,l),this.addToLibrary(d),c.addChild(d);return this.addToMain(c),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,90,0)),this.introEvaluation()},b.prototype.bucketName=function(a){var b,c;return c=""+a,b=function(){switch(c.length){case 1:return this.counter[c];case 2:return this.buildName(c);case 3:return this.counter[c]}}.call(this)},b.prototype.buildName=function(a){var b,c;return b=10*Math.floor(a/10),c=a%10,0===c?this.counter[b]:20>a?this.counter[a]:this.counter[b]+"\r\n"+this.counter[c]},b.prototype.introEvaluation=function(){return b.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:1}),TweenLite.from(this.library.box,1,{alpha:0,y:stageSize.h,delay:2,onComplete:this.playInstructions,onCompleteParams:[this]}),TweenMax.from([this.library.l1,this.library.l2,this.library.l3],1,{alpha:0,y:stageSize.h,delay:3})},b.prototype.initEvaluation=function(){var a,c,d;for(b.__super__.initEvaluation.apply(this,arguments),d=[],a=c=1;3>=c;a=c+=1)this.blink(this.library["l"+a]),d.push(this.library["l"+a].addEventListener("click",this.selectLevel));return d},b.prototype.selectLevel=function(a){var b,c;for(b=c=1;3>=c;b=c+=1)this.blink(this.library["l"+b],!1),this.library["l"+b].removeEventListener("click",this.selectLevel);switch(a.target.name){case"l1":return this.initRaindrops(1,1500);case"l2":return this.initRaindrops(2,1e3);case"l3":return this.initRaindrops(3,500)}},b.prototype.initRaindrops=function(a,b){return this.raindrops=new createjs.Container,this.raindrops.name="raindrops",this.level=a,this.rnum=0,this.time=90,this.timer=setInterval(this.updateCounter,1e3),this.rinterval=setInterval(this.makeRaindropr,b),this.binterval=setInterval(this.makeRaindropb,2e3),this.addToMain(this.raindrops)},b.prototype.updateCounter=function(){return this.time--,this.library.score.updateTotal(this.time),0===this.time?this.finish():void 0},b.prototype.makeRaindropr=function(){var a;return a=Math.round(100*Math.random()),this.makeRaindrop(a)},b.prototype.makeRaindropb=function(){var a;return a=Math.round(5*Math.random()),this.makeRaindrop(this.random[a])},b.prototype.makeRaindrop=function(a){var b,c;switch(b=new Draggable("d"+this.rnum,this.preload.getResult("raindrop"),a,1200*Math.random()+200,this.library.header.height),c=new createjs.Text(""+a,"32px Quicksand","#000099"),c.textAlign="center",c.x=b.width/2,c.y=b.height/2,b.addChild(c),this.raindrops.addChild(b),b.addEventListener("drop",this.evaluateAnswer),b.initDragListener(),this.rnum++,this.level){case 1:return TweenLite.to(b,9,{y:780,ease:Linear.easeNone,onComplete:this.killThis,onCompleteParams:[b]});case 2:return TweenLite.to(b,7,{y:780,ease:Linear.easeNone,onComplete:this.killThis,onCompleteParams:[b]});case 3:return TweenLite.to(b,5,{y:780,ease:Linear.easeNone,onComplete:this.killThis,onCompleteParams:[b]})}},b.prototype.killThis=function(a){return TweenLite.killTweensOf(a),this.raindrops.removeChild(a)},b.prototype.evaluateAnswer=function(a){var b,c,d,e,f,g,h;for(this.answer=a.target,c=!1,f=h=0;5>=h;f=h+=1)d=this.library["b"+f],g=d.shape.globalToLocal(this.stage.mouseX,this.stage.mouseY),d.shape.hitTest(g.x,g.y)&&(d.index===this.answer.index?(e=d.parent.localToGlobal(d.x+d.width/2-60,d.y+d.height/2-60),b=this.answer.parent.globalToLocal(e.x,e.y),this.buckets[f].a=!1,c=!0,this.answer.putInPlace(b),this.library.score.plusOne(),createjs.Sound.play("good"),setTimeout(this.finishEvaluation,2e3)):createjs.Sound.play("wrong"));return c?void 0:this.answer.takeMeOut()},b.prototype.finishEvaluation=function(){return this.nextEvaluation()},b.prototype.nextEvaluation=function(){var a,b,c;for(a=!0,b=c=0;5>=c;b=c+=1)this.buckets[b].a===!0&&(a=!1);return a?this.finish():void 0},b.prototype.blink=function(a,b){return null==b&&(b=!0),TweenMax.killTweensOf(a),a.alpha=1,b?TweenMax.to(a,.5,{alpha:.5,repeat:-1,yoyo:!0}):void 0},b.prototype.finish=function(){return clearInterval(this.timer),clearInterval(this.rinterval),clearInterval(this.binterval),TweenLite.to([this.library.background,this.library.box,this.library.raindrops],.5,{alpha:0}),TweenMax.to([this.library.l1,this.library.l2,this.library.l3],1,{alpha:0,y:stageSize.h}),b.__super__.finish.apply(this,arguments)},window.U2A6=b,b}(Oda);