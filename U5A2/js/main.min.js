var U5A2,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U5A2=function(a){function b(){this.repeatSound=__bind(this.repeatSound,this),this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer=__bind(this.evaluateAnswer,this),this.initEvaluation=__bind(this.initEvaluation,this),this.filterByID=__bind(this.filterByID,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"windy",src:"windy_image.png"},{id:"sunny",src:"sunny_image.png"},{id:"snowy",src:"snowing_image.png"},{id:"rainy",src:"raining_image.png"},{id:"cloudy",src:"cloudy_image.png"}],c=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/TU2_U5_A2_instructions.mp3",id:"instructions"},{src:"sounds/TU2_U5_A2_raining.mp3",id:"srainy"},{src:"sounds/TU2_U5_A2_cloudy.mp3",id:"scloudy"},{src:"sounds/TU2_U5_A2_snowing.mp3",id:"ssnowy"},{src:"sounds/TU2_U5_A2_sunny.mp3",id:"ssunny"},{src:"sounds/TU2_U5_A2_windy.mp3",id:"swindy"},{src:"sounds/wrong.mp3",id:"wrong"}],this.game={steps:[{id:"windy",texts:[{p:"I",s:1,c:"my jacket."},{p:"I",s:1,c:"my sweater."}]},{id:"sunny",texts:[{p:"I",s:1,c:"my swimsuit."},{p:"I",s:2,c:"my jacket."}]},{id:"rainy",texts:[{p:"I",s:1,c:"my raincoat."},{p:"I",s:1,c:"my umbrella."}]},{id:"snowy",texts:[{p:"I",s:1,c:"my boots."},{p:"I",s:1,c:"my coat."}]},{id:"cloudy",texts:[{p:"I",s:2,c:"my swimsuit."},{p:"I",s:1,c:"my jeans."}]}]},b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.filterByID=function(a){return a!==this.selected},b.prototype.setStage=function(){var a,c;return b.__super__.setStage.apply(this,arguments),this.steps=this.shuffle(this.game.steps),this.stepsid=function(){var a,b,d,e;for(d=this.steps,e=[],a=0,b=d.length;b>a;a++)c=d[a],e.push(c.id);return e}.call(this),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),a=new Button("repeatbtn",this.preload.getResult("repeatbtn"),0,800,900),this.setReg(a,a.getBounds().width/2,a.getBounds().height/2),this.addToMain(a),this.insertInstructions("instructions",["Listen and click on the correct option."],80,200),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,15,0)),this.setStep().introEvaluation()},b.prototype.setStep=function(){var a,b,c,d,e;return this.selected=this.stepsid[this.index],d=0,e=this.stepsid.filter(this.filterByID),e=this.shuffle(e),b=this.preload.getResult(this.selected),c=this.preload.getResult(e[0]),a=new ChooseBitmap("chooseImg",b,c,1,stageSize.w/2,300),a.scaleX=a.scaleY=.6,a.setDistance(1100,0),a.addEventListener("selection",function(b){return function(c){return b.tindex=0,c.success===!1?(b.warning(),d=1):(0===d&&(b.library.score.plusOne(),createjs.Sound.play("good")),b.showText(),a.removeAllEventListeners(),TweenLite.to(b.library.repeatbtn,.5,{alpha:0}))}}(this)),this.addToMain(a),TweenLite.from(a,1,{alpha:0,y:this.library.chooseImg.y+100,delay:1}),this},b.prototype.introEvaluation=function(){return b.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.repeatbtn,1,{alpha:0,y:this.library.repeatbtn.y+40,delay:1}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:1,onComplete:this.playInstructions,onCompleteParams:[this]})},b.prototype.initEvaluation=function(){return b.__super__.initEvaluation.apply(this,arguments),this.library.chooseImg.initListeners(),createjs.Sound.play("s"+this.stepsid[this.index]),this.library.repeatbtn.addEventListener("click",this.repeatSound)},b.prototype.showText=function(){var a,b,c;return c=this.steps[this.index].texts[this.tindex],b=0,a=new ChooseText("chooseTxt",c.p,"want","don't want",c.c,c.s,0,900),a.x=stageSize.w/2-a.width/2,a.addEventListener("selection",function(a){return function(c){return c.success===!1?(a.warning(),b=1):(0===b&&(a.library.score.plusOne(),createjs.Sound.play("good")),a.evaluateAnswer())}}(this)),this.addToMain(a)},b.prototype.evaluateAnswer=function(){return this.tindex++,this.tindex<this.steps[this.index].texts.length?(TweenLite.to(this.library.chooseTxt,.5,{y:this.library.chooseTxt.y-100,alpha:0}),this.showText()):this.finishEvaluation()},b.prototype.finishEvaluation=function(){return TweenLite.to(this.library.chooseTxt,.5,{y:this.library.chooseTxt.y-100,alpha:0}),TweenLite.to(this.library.chooseImg,.5,{alpha:0,y:this.library.chooseImg.y-100,ease:Back.easeOut,onComplete:this.nextEvaluation})},b.prototype.nextEvaluation=function(){return this.index++,createjs.Sound.stop(),this.index<this.steps.length?(this.setStep(),this.library.chooseImg.initListeners(),createjs.Sound.play("s"+this.stepsid[this.index]),TweenLite.to(this.library.repeatbtn,.5,{alpha:1})):this.finish()},b.prototype.repeatSound=function(){return createjs.Sound.stop(),createjs.Sound.play("s"+this.stepsid[this.index])},b.prototype.finish=function(){return b.__super__.finish.apply(this,arguments)},window.U5A2=b,b}(Oda);