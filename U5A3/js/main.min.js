var U5A3,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U5A3=function(a){function b(){this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer=__bind(this.evaluateAnswer,this),this.initEvaluation=__bind(this.initEvaluation,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"repeatbtn",src:"repeat-btn.png"},{id:"playagain",src:"play_again.png"},{id:"startgame",src:"start_game.png"},{id:"imageApril",src:"image_april.png"},{id:"imageAugust",src:"image_august.png"},{id:"imageChristmas",src:"image_christmas.png"},{id:"imageDecember",src:"image_december.png"},{id:"imageEaster",src:"image_easter.png"},{id:"imageFall",src:"image_fall.png"},{id:"imageFebruary",src:"image_february.png"},{id:"imageJanuary",src:"image_january.png"},{id:"imageJuly",src:"image_july.png"},{id:"imageJune",src:"image_june.png"},{id:"imageMarch",src:"image_march.png"},{id:"imageMay",src:"image_may.png"},{id:"imageNovember",src:"image_november.png"},{id:"imageOctober",src:"image_october.png"},{id:"imageSeptember",src:"image_september.png"},{id:"imageSpring",src:"image_spring.png"},{id:"imageSummer",src:"image_summer.png"},{id:"imageThanksgiving",src:"image_thanksgiving.png"},{id:"imageValentine",src:"image_valentine.png"},{id:"imageWinter",src:"image_winter.png"}],c=[{src:"sounds/good.mp3",id:"good"},{src:"sounds/wrong.mp3",id:"wrong"},{src:"sounds/TU2_U5_A3_instructions.mp3",id:"instructions"}],this.imagenes=[{id:"imageApril",x:1184,y:350},{id:"imageAugust",x:990,y:1044},{id:"imageChristmas",x:1430,y:1040},{id:"imageDecember",x:198,y:596},{id:"imageEaster",x:1206,y:862},{id:"imageFall",x:182,y:404},{id:"imageFebruary",x:656,y:368},{id:"imageJanuary",x:380,y:344},{id:"imageJuly",x:1234,y:1058},{id:"imageJune",x:1448,y:804},{id:"imageMarch",x:918,y:342},{id:"imageMay",x:1438,y:580},{id:"imageNovember",x:214,y:810},{id:"imageOctober",x:472,y:1030},{id:"imageSeptember",x:718,y:1058},{id:"imageSpring",x:1274,y:568},{id:"imageSummer",x:274,y:586},{id:"imageThanksgiving",x:552,y:874},{id:"imageValentine",x:410,y:502},{id:"imageWinter",x:608,y:368}],this.answers=[{txt:"January",img:"imageJanuary"},{txt:"February",img:"imageFebruary"},{txt:"March",img:"imageMarch"},{txt:"April",img:"imageApril"},{txt:"May",img:"imageMay"},{txt:"June",img:"imageJune"},{txt:"July",img:"imageJuly"},{txt:"August",img:"imageAugust"},{txt:"September",img:"imageSeptember"},{txt:"October",img:"imageOctober"},{txt:"November",img:"imageNovember"},{txt:"December",img:"imageDecember"},{txt:"Spring",img:"imageSpring"},{txt:"Summer",img:"imageSummer"},{txt:"Fall",img:"imageFall"},{txt:"Winter",img:"imageWinter"},{txt:"Easter",img:"imageEaster"},{txt:"Valentine's Day",img:"imageValentine"},{txt:"Christmas",img:"imageChristmas"},{txt:"Thanksgiving",img:"imageThanksgiving"}],b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){return b.__super__.setStage.apply(this,arguments),this.success=1,this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions",["Unscramble the seasons, months of the year and holidays."],80,200),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,20,0)),this.setSeasons().introEvaluation()},b.prototype.setSeasons=function(){var a,b,c,d;for(c=new createjs.Container,c.name="seasons",a=d=0;19>=d;a=++d)b=this.createBitmap(this.imagenes[a].id,this.imagenes[a].id,this.imagenes[a].x,this.imagenes[a].y,"mc"),b.scaleX=b.scaleY=.5,this.addToLibrary(b),c.addChild(b);return this.addToMain(c),this},b.prototype.introEvaluation=function(){return b.__super__.introEvaluation.apply(this,arguments),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:1}),TweenLite.from(this.library.seasons,.5,{alpha:0,y:this.library.seasons.y+40,delay:2,onComplete:this.playInstructions,onCompleteParams:[this]})},b.prototype.initEvaluation=function(){return b.__super__.initEvaluation.apply(this,arguments),this.answers=this.shuffle(this.answers),this.setQuestion(this.index)},b.prototype.setQuestion=function(){var a,b,c,d,e,f,g,h;for(d=new createjs.Container,e=new createjs.Container,a=this.answers[this.index].txt.split(""),this.scrambled=this.shuffle(a),b=g=1,h=this.scrambled.length;h>=1?h>=g:g>=h;b=h>=1?++g:--g)" "!==this.scrambled[b-1]&&(c=new DraggableText("t"+b,this.scrambled[b-1],this.scrambled[b-1],60*b,0),c.text.font="40px Quicksand",c.createHitArea(56,60),c.addEventListener("drop",this.evaluateAnswer),c.onInitEvaluation(),this.addToLibrary(c),d.addChild(c))," "!==a[b-1]&&(f=new WordContainer("l"+b,"","rgba(238,238,238,0.3)","#f39234",84*b,100,80,60),f.index=a[b-1],f.hitter=null,f.addEventListener("mousedown",function(a){var b;return b=a.currentTarget,b.addEventListener("pressmove",function(){return b.hitter?(b.changeText(""),b.hitter.visible=!0,b.hitter.returnToPlace()):void 0})}),this.addToLibrary(f),e.addChild(f));return e.name="palabra",e.y=600,e.x=stageSize.w/2-84*this.scrambled.length/2-100,this.addToMain(e),d.name="letras",d.y=600,d.x=stageSize.w/2-60*this.scrambled.length/2-60,this.addToMain(d)},b.prototype.evaluateAnswer=function(a){var b,c,d,e,f;for(this.answer=a.target,b=!1,c=e=1,f=this.scrambled.length;f>=1?f>=e:e>=f;c=f>=1?++e:--e)this.library["l"+c]&&(d=this.library["l"+c].globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library["l"+c].hitTest(d.x,d.y)&&""===this.library["l"+c].text.text&&(this.answer.visible=!1,this.library["l"+c].hitter=this.answer,this.library["l"+c].changeText(this.answer.index),b=!0));return b?this.finishEvaluation():this.answer.returnToPlace()},b.prototype.finishEvaluation=function(){var a,b,c,d,e,f,g,h;for(a=this.answers[this.index].txt.split(""),b=c=1,f=this.scrambled.length;f>=1?f>=c:c>=f;b=f>=1?++c:--c)if(this.library["l"+b]&&""===this.library["l"+b].text.text)return;for(b=d=1,g=this.scrambled.length;g>=1?g>=d:d>=g;b=g>=1?++d:--d)this.library["l"+b]&&this.library["l"+b].text.text!==a[b-1]&&(this.success=0);if(1===this.success)createjs.Sound.play("good"),this.library.score.plusOne();else for(createjs.Sound.play("wrong"),this.success=1,b=e=1,h=this.scrambled.length;h>=1?h>=e:e>=h;b=h>=1?++e:--e)this.library["l"+b].text.text=a[b-1];return setTimeout(this.nextEvaluation,2e3)},b.prototype.nextEvaluation=function(){return TweenLite.to(this.library[this.answers[this.index].img],1,{alpha:0,y:this.library[this.answers[this.index].img].y-40,ease:Back.easeOut}),TweenLite.to(this.library.letras,1,{alpha:0,y:this.library.letras.y-40,ease:Back.easeOut}),TweenLite.to(this.library.palabra,1,{alpha:0,y:this.library.palabra.y-40,ease:Back.easeOut}),this.index++,this.index<this.answers.length?this.setQuestion(this.index):this.finish()},b.prototype.finish=function(){return b.__super__.finish.apply(this,arguments)},window.U5A3=b,b}(Oda);