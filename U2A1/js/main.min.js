var U2A1,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U2A1=function(a){function b(){this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer=__bind(this.evaluateAnswer,this),this.initEvaluation=__bind(this.initEvaluation,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"inst",src:"inst.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"n1",src:"nube1.png"},{id:"n2",src:"nube2.png"},{id:"n3",src:"nube3.png"},{id:"n4",src:"nube4.png"},{id:"casa",src:"casita.png"}],c=[{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/good.mp3",id:"good"},{src:"sounds/TU2_U2_A1_instructions.mp3",id:"instructions"},{src:"sounds/wrong.mp3",id:"wrong"}],this.answers=[{id:2,text:"a cake on the dining room table."},{id:0,text:"a cake in the kitchen table."},{id:0,text:"a dresser in the bedroom."},{id:3,text:"two bedrooms."},{id:2,text:"a clock in the bedroom."},{id:1,text:"six windows."},{id:1,text:"some books."},{id:1,text:"three people in the house."},{id:0,text:"a fridge."},{id:3,text:"two dresses in the closet."},{id:0,text:"a lamp in the hallway."},{id:2,text:"a cell phone on the dresser."}],b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){return b.__super__.setStage.apply(this,arguments),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions",["Read, look and drag the phrases to complete the sentences."],60,200),this.insertBitmap("casa","casa",168,274),this.intento=0,this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,12,0)),this.setDropper().setClouds().introEvaluation()},b.prototype.setDropper=function(){return this.addToMain(new WordCompleter("dropper","","","#FFF","#E90E2C",300,1050,350,60)),this},b.prototype.setClouds=function(){var a,b,c,d,e,f,g,h,i,j,k,l;return e=new createjs.Container,e.x=1322,e.y=260,e.name="nube1",f=new createjs.Container,f.x=1308,f.y=446,f.name="nube2",g=new createjs.Container,g.x=1300,g.y=654,g.name="nube3",h=new createjs.Container,h.x=1290,h.y=850,h.name="nube4",a=this.createBitmap("n1","n1",0,0),b=this.createBitmap("n2","n2",0,0),c=this.createBitmap("n3","n3",0,0),d=this.createBitmap("n4","n4",0,0),i=new DraggableText("tn0","There is",0,28,42),j=new DraggableText("tn1","There are",1,15,50),k=new DraggableText("tn2","There isn't",2,30,40),l=new DraggableText("tn3","There aren't",3,26,50),e.addChild(a,i),f.addChild(b,j),g.addChild(c,k),h.addChild(d,l),this.addToLibrary(i,j,k,l),this.addToMain(e,f,g,h),this},b.prototype.introEvaluation=function(){var a,c;for(b.__super__.introEvaluation.apply(this,arguments),a=c=0;3>=c;a=c+=1)this.observer.subscribe("init_evaluation",this.library["tn"+a].onInitEvaluation);return this.library.dropper.changeText(""),this.library.dropper.changeLabel(this.answers[this.index].text),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0,delay:1}),TweenLite.from(this.library.casa,1,{alpha:0,y:this.library.casa.y+100,delay:2}),TweenLite.from(this.library.dropper,1,{alpha:0,x:this.library.dropper.x+100,ease:Quart.easeOut,delay:4,onComplete:this.playInstructions,onCompleteParams:[this]}),TweenMax.allFrom([this.library.nube1,this.library.nube2,this.library.nube3,this.library.nube4],1,{alpha:0,y:stageSize.h,delay:3})},b.prototype.initEvaluation=function(){var a,c,d;for(b.__super__.initEvaluation.apply(this,arguments),d=[],a=c=0;3>=c;a=c+=1)d.push(this.library["tn"+a].addEventListener("drop",this.evaluateAnswer));return d},b.prototype.evaluateAnswer=function(a){var b;return this.answer=a.target,b=this.library.dropper.globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library.dropper.hitTest(b.x,b.y)?this.answer.index===this.answers[this.index].id?(this.answer.x=this.answer.pos.x,this.answer.y=this.answer.pos.y,this.library.dropper.changeText(this.answer.text.text),createjs.Sound.play("good"),setTimeout(this.finishEvaluation,1e3)):(this.warning(),this.answer.returnToPlace(),this.intento++,2===this.intento?setTimeout(this.finishEvaluation,1e3):void 0):this.answer.returnToPlace()},b.prototype.finishEvaluation=function(){return 0===this.intento&&this.library.score.plusOne(),this.intento=0,TweenLite.to(this.library.dropper,.5,{alpha:0,y:stageSize.h,ease:Back.easeOut,onComplete:this.nextEvaluation})},b.prototype.nextEvaluation=function(){return this.index++,this.index<this.answers.length?(this.library.dropper.y=1050,this.library.dropper.x=400,this.library.dropper.changeText(""),this.library.dropper.changeLabel(this.answers[this.index].text),TweenLite.to(this.library.dropper,.5,{alpha:1,x:300,ease:Quart.easeOut})):this.finish()},b.prototype.finish=function(){return TweenLite.to(this.library.casa,1,{alpha:0,y:this.library.casa.y+100}),TweenLite.to(this.library.dropper,1,{alpha:0,x:this.library.dropper.x+100,ease:Quart.easeOut}),TweenMax.allTo([this.library.nube1,this.library.nube2,this.library.nube3,this.library.nube4],1,{alpha:0,y:stageSize.h}),b.__super__.finish.apply(this,arguments)},window.U2A1=b,b}(Oda);