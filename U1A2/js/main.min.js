var U1A2,__bind=function(a,b){return function(){return a.apply(b,arguments)}},__hasProp={}.hasOwnProperty,__extends=function(a,b){function c(){this.constructor=a}for(var d in b)__hasProp.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};U1A2=function(a){function b(){this.repeatSound=__bind(this.repeatSound,this),this.nextEvaluation=__bind(this.nextEvaluation,this),this.finishEvaluation=__bind(this.finishEvaluation,this),this.evaluateAnswer=__bind(this.evaluateAnswer,this),this.initEvaluation=__bind(this.initEvaluation,this);var a,c;a=[{id:"head",src:"pleca1.png"},{id:"c1",src:"circle1.png"},{id:"c2",src:"circle2.png"},{id:"p1",src:"image_april.png"},{id:"p2",src:"image_danielle.png"},{id:"p3",src:"image_holly.png"},{id:"p4",src:"image_jess.png"},{id:"p5",src:"image_lindsey.png"},{id:"p6",src:"image_madison.png"},{id:"n1",src:"kid_april.png"},{id:"n2",src:"kid_danielle.png"},{id:"n3",src:"kid_holly.png"},{id:"n4",src:"kid_jess.png"},{id:"n5",src:"kid_lindsey.png"},{id:"n6",src:"kid_madison.png"},{id:"repeat",src:"repeat_btn.png"},{id:"q",src:"question_name.png"},{id:"faces",src:"faces_stage.png"}],c=[{src:"sounds/boing.mp3",id:"boing"},{src:"sounds/good.mp3",id:"good"},{src:"sounds/TU2_U1_A2_instructions.mp3",id:"instructions"},{src:"sounds/TU2_U1_A2_april.mp3",id:"april"},{src:"sounds/TU2_U1_A2_danielle.mp3",id:"danielle"},{src:"sounds/TU2_U1_A2_holly.mp3",id:"holly"},{src:"sounds/TU2_U1_A2_jess.mp3",id:"jess"},{src:"sounds/TU2_U1_A2_lindsey.mp3",id:"lindsey"},{src:"sounds/TU2_U1_A2_madison.mp3",id:"madison"},{src:"sounds/wrong.mp3",id:"wrong"}],this.answers=[{id:3,sound:"holly"},{id:1,sound:"april"},{id:5,sound:"lindsey"},{id:4,sound:"jess"},{id:6,sound:"madison"},{id:2,sound:"danielle"}],b.__super__.constructor.call(this,null,a,c)}return __extends(b,a),b.prototype.setStage=function(){return b.__super__.setStage.apply(this,arguments),this.insertBitmap("header","head",stageSize.w/2,0,"tc"),this.insertInstructions("instructions",["Listen and look at the chart. Then drag the names to answer the questions."],80,200),this.insertSprite("characters",["p1","p2","p3","p4","p5","p6"],null,200,stageSize.h-340),this.addToMain(new Score("score",this.preload.getResult("c1"),this.preload.getResult("c2"),40,1e3,6,0)),this.intento=!1,this.setDropper().setNames().introEvaluation()},b.prototype.setDropper=function(){var a,b,c,d;return b=new createjs.Container,b.x=0,b.y=0,b.name="dropname",c=this.createBitmap("question","q",670,stageSize.h-140),c.mouseEnabled=!1,a=new createjs.Shape((new createjs.Graphics).beginFill("#FFF").drawRect(0,0,260,60)),a.x=1170,a.y=-14+stageSize.h-140,a.name="h1",d=new createjs.Shape,d.graphics.beginFill("rgba(255,255,255,0.01)").drawRect(0,0,stageSize.w,stageSize.h),b.addChild(c,d,a),this.addToLibrary(a),this.addToMain(b),this},b.prototype.setNames=function(){var a,b,c,d,e,f,g,h,i;return h=new createjs.Container,h.x=240,h.y=264,h.name="names",a=this.createBitmap("facesback","faces",69,0),a.mouseEnabled=!1,i=new Button("btnrepeat",this.preload.getResult("repeat"),0,600,640),b=new Draggable("name1",this.preload.getResult("n1"),1,16,30),c=new Draggable("name2",this.preload.getResult("n2"),2,4,504),d=new Draggable("name3",this.preload.getResult("n3"),3,16,413),e=new Draggable("name4",this.preload.getResult("n4"),4,16,227),f=new Draggable("name5",this.preload.getResult("n5"),5,4,126),g=new Draggable("name6",this.preload.getResult("n6"),6,4,318),b.addEventListener("drop",this.evaluateAnswer),c.addEventListener("drop",this.evaluateAnswer),d.addEventListener("drop",this.evaluateAnswer),e.addEventListener("drop",this.evaluateAnswer),f.addEventListener("drop",this.evaluateAnswer),g.addEventListener("drop",this.evaluateAnswer),i.addEventListener("click",this.repeatSound),this.addToLibrary(b,c,d,e,f,g),h.addChild(a,i,b,c,d,e,f,g),this.addToMain(h),this},b.prototype.introEvaluation=function(){var a,c;for(b.__super__.introEvaluation.apply(this,arguments),a=c=1;6>=c;a=c+=1)this.observer.subscribe("init_evaluation",this.library["name"+a].onInitEvaluation);return this.library.characters.gotoAndStop(this.answers[this.index].id-1),TweenLite.from(this.library.header,1,{y:-this.library.header.height}),TweenLite.from(this.library.instructions,1,{alpha:0,x:0}),TweenLite.from(this.library.names,1,{alpha:0,y:this.library.names.y+100,delay:1}),TweenLite.from(this.library.dropname,1,{alpha:0,y:this.library.dropname.y+100,delay:2}),TweenLite.from(this.library.characters,1,{alpha:0,y:this.library.characters.y+20,delay:2,onComplete:this.playInstructions,onCompleteParams:[this]})},b.prototype.initEvaluation=function(){var a,c;for(b.__super__.initEvaluation.apply(this,arguments),this.library.characters.gotoAndStop(this.answers[this.index].id-1),createjs.Sound.play(this.answers[this.index].sound),a=c=1;6>=c;a=c+=1)this.library["name"+a].blink();return TweenLite.to(this.library.characters,.5,{alpha:1,y:stageSize.h-340,ease:Quart.easeOut})},b.prototype.evaluateAnswer=function(a){var b;return this.answer=a.target,b=this.library.h1.globalToLocal(this.stage.mouseX,this.stage.mouseY),this.library.h1.hitTest(b.x,b.y)?(console.log(this.answer.name,"hit"),this.answer.index===this.answers[this.index].id?(createjs.Sound.play("good"),setTimeout(this.finishEvaluation,1e3)):(this.warning(),this.intento=!0,this.answer.returnToPlace(this.answer.alpha,this.answer.scaleX,this.answer.scaleY,!0))):this.answer.returnToPlace(this.answer.alpha,this.answer.scaleX,this.answer.scaleY,!0)},b.prototype.finishEvaluation=function(){return this.intento===!1&&this.library.score.plusOne(),this.answer.returnToPlace(this.answer.alpha,this.answer.scaleX,this.answer.scaleY,!0),TweenLite.to(this.library.characters,.5,{alpha:0,delay:.5,ease:Back.easeOut,onComplete:this.nextEvaluation})},b.prototype.nextEvaluation=function(){return this.index++,this.index<this.answers.length?(this.intento=!1,this.library.characters.alpha=1,this.library.characters.y=stageSize.h-340,this.library.characters.gotoAndStop(this.answers[this.index].id-1),createjs.Sound.play(this.answers[this.index].sound),TweenLite.from(this.library.characters,.5,{alpha:0,y:this.library.characters.y+20,ease:Quart.easeOut})):this.finish()},b.prototype.repeatSound=function(){return createjs.Sound.stop(),createjs.Sound.play(this.answers[this.index].sound)},b.prototype.finish=function(){var a,c,d;for(TweenLite.to(this.library.names,1,{alpha:0,y:this.library.names.y+100,delay:.1}),TweenLite.to(this.library.dropname,1,{alpha:0,y:this.library.dropname.y+100,delay:.1}),TweenLite.to(this.library.characters,1,{alpha:0,y:this.library.characters.y+40,delay:.1}),b.__super__.finish.apply(this,arguments),d=[],a=c=1;6>=c;a=c+=1)d.push(this.library["name"+a].blink(!1));return d},window.U1A2=b,b}(Oda);